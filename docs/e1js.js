var e1js=function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./",t(t.s=3)}([function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(2),r=function(){function e(){var t=this;i(this,e),this.bindings={},this.components={},this.models={},this.services={},this.subscriptions={},this.ids=[],this.cleanHtml=this.cleanHtml,this.generateId=this.generateId,this.getModel=this.getModel,this.getThis=this.getThis,this.registerComponent=this.registerComponent,this.registerElement=this.registerElement,this.scan=this.scan,this.setModel=this.setModel,this.setThis=this.setThis,this.subscribe=this.subscribe,this.updateBindings=this.updateBindings,this.observer=new window.MutationObserver(function(e){var n=Object.keys(t.components),i=function(e,n){if(e.hasAttribute&&e.querySelectorAll){e.nodeName&&e.nodeName.toLowerCase()===n&&t.components[n]._initElement(e),e.hasAttribute(n)&&t.components[n]._initElement(e);var i=e.querySelectorAll(n);if(i.length||(i=e.querySelectorAll("[".concat(n,"]"))),i.length)for(var a=0;a<i.length;a++)t.components[n]._initElement(i[a])}},a=function(e){n.forEach(function(t){i(e,t)})},s=function(e){for(var t=0;t<e.length;t++)3!==e[t].nodeType&&a(e[t])};e.forEach(function(e){e.addedNodes.length&&s(e.addedNodes)})})}return s(e,[{key:"cleanHtml",value:function(e,t){e=e?e.toString().replace(/<script[^>]*?>.*?<\/script>/gi,"").replace(/<style[^>]*?>.*?<\/style>/gi,"").replace(/<![\s\S]*?--[ \t\n\r]*>/gi,""):"";var n=/<\s*\w.*?>/g.exec(e),i=window.document.createElement("div");if(null!==n){if(t&&t.parentNode){var a=window.document.createRange();a.selectNode(t),i=a.createContextualFragment(e)}else i=window.document.createRange().createContextualFragment(e);i=i.lastChild}else i.innerHTML=e,i=i.lastChild;return i}},{key:"generateId",value:function(){for(var e=function(){for(var e="",t="abcdefghijklmnopqrstuvwxyz",n=0;n<26;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},t=e();this.ids.indexOf(t)>-1;)t=e();return this.ids.push(t),t}},{key:"getModel",value:function(e,t,n){var i;if(!e&&!t)return n;if(e&&t){var a=e.getAttribute(t);if(!a||"@"!==a.substring(0,1)){try{a=JSON.parse(a)}catch(e){}return a||n}i=a.substring(1,a.length)}else!e&&t&&"@"===t.substring(0,1)&&(i=t.substring(1,t.length));if(!i)return n;i=i.split(".");var s=i.shift();return this.services[s]?s=this.services[s]:(i.unshift(s),s=window),i=i.join("."),this.getThis(s,i,n)}},{key:"getThis",value:function(e,t,n){t=t&&t.toString().split?[e].concat(t.toString().split(".")):[e];var i=t.reduce(function(e,t){if(void 0===e)return n;if(-1===t.indexOf(".")&&t.indexOf("(")>-1){var i=/\((.*?)\)/g.exec(t)[1],a=i.split(",").map(function(e){return e.trim()}),s=t.split("(")[0];if("function"==typeof e[s]){return e[s].apply(e,a)}}return t?e[t]:e});return void 0===i?n:i}},{key:"isTruthy",value:function(e){var t=this,n=e.split(/(?:\(|\)|\|\||&&|<=|<|>=|>|===|!==)+/g).map(function(e){return e.trim()});return n.sort(function(e,t){return e.length>t.length?-1:e.length<t.length?1:0}),n.forEach(function(n){if("@"===n.substring(0,1)){var i=t.getModel(null,n);e=isNaN(i)?e.split(n).join("'".concat(i,"'")):e.split(n).join(i)}}),this.eval(e)}},{key:"eval",value:function(e){o.createContext();try{return o.runInNewContext(e)}catch(e){return!1}}},{key:"registerComponent",value:function(e,t){var n=this;this.components[e]={service:t,_initElement:function(t){if(-1===n.components[e].registeredElements.indexOf(t)){n.registerElement(t);var i=new n.components[e].service(t);n.components[e].registeredElements.push(t),t.onUpdate||(t.onUpdate=[]),t.onUpdate.push(i.update.bind(i))}else t.onUpdate&&Array.isArray(t.onUpdate)&&t.onUpdate.length&&t.onUpdate.forEach(function(e){e()})},registeredElements:[],scan:function(t){var i=t.querySelectorAll(e);if(i.length)for(var a=0;a<i.length;a++)n.components[e]._initElement(i[a])}},"complete"===window.document.readyState&&this.components[e].scan(window.document.body)}},{key:"registerAttribute",value:function(e,t){var n=this;this.components[e]={service:t,_initElement:function(t){if(-1===n.components[e].registeredElements.indexOf(t)){n.registerElement(t);var i=new n.components[e].service(t);n.components[e].registeredElements.push(t),t.onUpdate||(t.onUpdate=[]),t.onUpdate.push(i.update.bind(i))}else t.onUpdate&&Array.isArray(t.onUpdate)&&t.onUpdate.length&&t.onUpdate.forEach(function(e){e()})},registeredElements:[],scan:function(t){var i=t.querySelectorAll("[".concat(e,"]"));if(i.length)for(var a=0;a<i.length;a++)n.components[e]._initElement(i[a])}},"complete"===window.document.readyState&&this.components[e].scan(window.document.body)}},{key:"registerElement",value:function(e){var t=this;if(e&&e.attributes){e.hasAttribute("component-id")||(e.setAttribute("component-id",this.generateId()),e["component-id"]=e.getAttribute("component-id"));for(var n=e.attributes,i=0;i<n.length;i++){var a=n[i].value;if("@"===a.substring(0,1)){var s=a.split(/(?:\(|\)|\|\||&&|<=|<|>=|>|===|!==)+/g).map(function(e){return e.trim()});!function(e,n){e.forEach(function(e){var i=e.split(/\?|\:/g).map(function(e){return e.trim()})[0];t.bindings[i]||(t.bindings[i]=[]),t.bindings[i].push(n)})}(s,e)}}}}},{key:"registerService",value:function(e,t){this.services[e]=t,this.updateBindings("@"+e,t)}},{key:"scan",value:function(e){for(var t in this.components)this.components[t]&&this.components[t].scan(e)}},{key:"setModel",value:function(e,t,n){var i;if(!e&&!t)return!1;if(e&&t){var a=e.getAttribute(t);a&&"@"===a.substring(0,1)&&(i=a.substring(1,a.length))}else!e&&t&&"@"===t.substring(0,1)&&(i=t.substring(1,t.length));if(!i)return!1;var s=i;i=i.split(".");var o=i.shift();this.services[o]?o=this.services[o]:(i.unshift(o),o=window),i=i.join(".");var r=this.getThis(o,i);try{r=JSON.parse(JSON.stringify(r))}catch(e){}n&&n.substring&&"@"===n.substring(0,1)&&(n=this.getModel(null,n,n)),this.setThis(o,i,n);var c=this.getThis(o,i),l=r;try{"object"==typeof r&&"object"==typeof c?l=Object.assign(r,c):c&&(l=c)}catch(e){}return this.updateBindings("@"+s,l),c}},{key:"setThis",value:function(e,t,n){return t=t?[e].concat(t.split(".")):[e],t.reduce(function(e,i){return e||(e={}),e[i]||(e[i]={}),i?(i===t[t.length-1]&&(e[i]=n),e[i]):(e[i]=null,e)})}},{key:"subscribe",value:function(e,t){this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(t)}},{key:"updateBindings",value:function(e,t){var n=this,i=this.bindings[e],a=this.subscriptions[e];if(a&&a.length&&a.forEach(function(e){e(t)}),i&&i.length&&i.forEach(function(e){var t=window.document.body.contains(e);(e.hasAttribute("e1-if")&&n.isTruthy(e.getAttribute("e1-if"))||e.hasAttribute("e1-show")&&n.isTruthy(e.getAttribute("e1-show")))&&(t=!0),t&&Array.isArray(e.onUpdate)&&e.onUpdate.length&&e.onUpdate.forEach(function(e){e()})}),t&&"object"==typeof t)for(var s in t)t.hasOwnProperty(s)&&this.updateBindings("".concat(e,".").concat(s),t[s])}}]),e}();window.E1=new r,e.exports=window.E1,"complete"===window.document.readyState?(window.E1.observer.observe(window.document.body,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0,characterData:!0}),window.E1.scan(window.document.body)):window.document.addEventListener("DOMContentLoaded",function(){window.E1.observer.observe(window.document.body,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0,characterData:!0}),window.E1.scan(window.document.body)})},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}!function(){var t=function(){function e(){n(this,e),this.loadImage=this.loadImage}return a(e,[{key:"initImages",value:function(e,t,n,i){var a=this,s=window.document.createElement("div");s.classList.add("renderer-progressbar"),e.element.appendChild(s);var o=function(){a.loadImage(e.url,function(n){s.style.opacity=0,setTimeout(function(){var t=window.document.querySelectorAll(".renderer-progressbar");if(t)for(var n=0;n<t.length;n++)e.element.removeChild(t[n])},600),t(n)},function(t){e.instance.stats.previewProgress=t,s.style.width=t+"%",e.instance.trigger("statsUpdate",e.instance.stats)},function(t){s.style.opacity=0,setTimeout(function(){var t=window.document.querySelectorAll(".renderer-progressbar");if(t)for(var n=0;n<t.length;n++)e.element.removeChild(t[n])},600),i&&i(t)})};e.preview?function(){a.loadImage(e.preview,function(t){n(t),e.instance.stats.previewProgress=100,o()},function(t){e.instance.stats.previewProgress=t,s.style.width=t+"%",e.instance.trigger("statsUpdate",e.instance.stats)},function(){o()})}():o()}},{key:"canDoVr",value:function(){return new Promise(function(e){if(window.navigator.getVRDisplays)try{window.navigator.getVRDisplays().then(function(t){if(t.length>0){var n=t[0];return e(!!n.capabilities.canPresent&&n)}e(!1)})}catch(t){e(!1)}else e(!1)})}},{key:"loadImage",value:function(e,t,n,i){var a=function e(n){n.width?t(n):function(t){setTimeout(function(){e(t)},100)}(n)},s=new window.XMLHttpRequest;s.open("GET",e,!0),s.responseType="arraybuffer",s.onload=function(e){if(200===e.target.status&&e.target.response.byteLength){var t=new window.Blob([e.target.response]),n=window.URL.createObjectURL(t),s=new window.Image;s.onload=function(e){a(e.target)},s.src=n}else i&&i(e.target.status)},s.onerror=function(e){i&&i(e.target.status)},s.onprogress=function(e){n&&n(parseInt(e.loaded/e.total*100),function(){s.abort()})},s.send()}}]),e}();e.exports=new t}()},function(module,exports,__webpack_require__){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Context(){}var indexOf=__webpack_require__(6),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,i=n.eval,a=n.execScript;!i&&a&&(a.call(n,"null"),i=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var s=Object_keys(n),o=i.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(s,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"===_typeof(e)&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},function(e,t,n){"use strict";n(4),n(0),n(10),n(13),n(15),n(17),n(19),n(21),n(23),n(25),n(27),n(29),n(31),n(34),n(43),n(46),n(51),n(54),n(63),n(67),n(70),n(75),n(78),n(81),n(83),n(86),n(89),n(91)},function(e,t,n){"use strict";n(5)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));n(7);var r=function(){function e(t){var a=this;i(this,e),this.elemensToWatch=[],this.pageActions=[],this.eventsToWatch=["mousemove","mousedown","mouseup","mouseenter","mouseleave","mouseover","mouseout","keydown","keyup","input","focus","blur","scroll"],this.el=t,this.update=this.update,this.recording=!1,this.el.appendChild(o.default.cleanHtml(n(8))),this.el.querySelector(".ui-record-button").addEventListener("mousedown",function(){a.recording=!0}),this.el.querySelector(".ui-stop-button").addEventListener("mousedown",function(){a.recording=!1}),this.el.querySelector(".ui-play-button").addEventListener("mousedown",function(){a.recording=!1}),this.el.querySelector(".ui-edit-button").addEventListener("mousedown",function(){a.recording=!1,a.el.querySelector(".ui-edit-section").classList.toggle("active"),a.el.querySelector(".ui-edit-section").innerHTML="",a.el.querySelector(".ui-edit-section").appendChild(o.default.cleanHtml(n(9)))}),this.el.querySelector(".ui-export-button").addEventListener("mousedown",function(){a.recording=!1,a.export()}),Object.keys(window).forEach(function(e){/on/.test(e)&&window.addEventListener(e.slice(2),function(e){if(a.recording&&e.srcElement!==a.el){if("scroll"===e.type){var t={el:window.document,evt:e,type:e.type,time:(new Date).getTime(),scrollPosition:{x:window.scrollX,y:window.scrollY}};return a.pageActions[a.pageActions.length-1]&&"scroll"===a.pageActions[a.pageActions.length-1].type?a.pageActions[a.pageActions.length-1]=t:a.pageActions.push(t),void o.default.setModel(null,"@E1UiRecorderService.pageActions",a.pageActions)}if(a.eventsToWatch.indexOf(e.type)>-1&&e.srcElement.tagName&&!a.el.contains(e.srcElement)){var n="".concat(e.srcElement.tagName.toLowerCase()),i=0,s=window.document.querySelectorAll(n);if(s.length>1)for(var r=0;r<s.length;r++)if(s[r]===e.srcElement){i=r;break}var c={el:e.srcElement,evt:e,type:e.type,time:(new Date).getTime(),selector:n,index:i,value:e.srcElement.value};a.pageActions[a.pageActions.length-1]&&a.pageActions[a.pageActions.length-1].type===e.type&&a.pageActions[a.pageActions.length-1].el===e.srcElement?a.pageActions[a.pageActions.length-1]=c:a.pageActions.push(c),o.default.setModel(null,"@E1UiRecorderService.pageActions",a.pageActions)}}})}),o.default.setModel(null,"@E1UiRecorderService.pageActions",this.pageActions),o.default.setModel(null,"@E1UiRecorderService.delete",function(e){a.pageActions.splice(e,1),o.default.setModel(null,"@E1UiRecorderService.pageActions",a.pageActions)}),o.default.setModel(null,"@E1UiRecorderService.highlight",function(e){var t=a.pageActions[e],n=t.el.getBoundingClientRect(),i=a.el.querySelector(".ui-highlighter");i.style.width=n.width+"px",i.style.height=n.height+"px",i.style.left=n.left+"px",i.style.top=n.top+"px"}),o.default.setModel(null,"@E1UiRecorderService.unhighlight",function(){var e=a.el.querySelector(".ui-highlighter");e.style.width="0px",e.style.height="0px",e.style.left="0px",e.style.top="0px"})}return s(e,[{key:"getPageActions",value:function(){var e="var evt;",t="",n=null,i=this.pageActions[0].time,a=[];return this.pageActions.forEach(function(s){if("scroll"===s.type)return e+="setTimeout(function(){\n                    window.scrollTo(".concat(s.scrollPosition.x,", ").concat(s.scrollPosition.y,");\n                "),a.push(s.time-i),void(i=s.time);if("input"===s.type)return e+="setTimeout(function(){\n                    window.document.querySelectorAll('".concat(s.selector,"')[").concat(s.index,'].value = "').concat(s.value,'"\n                    evt = new Event( "input", {});\n                    window.document.querySelectorAll(\'').concat(s.selector,"')[").concat(s.index,"].dispatchEvent(evt);\n                "),a.push(s.time-i),void(i=s.time);a.push(s.time-i),i=s.time,t=s.type,n=s.el;var o=s.evt instanceof window.MouseEvent?"MouseEvent":s.evt instanceof window.KeyboardEvent?"KeyboardEvent":s.evt instanceof window.WheelEvent?"WheelEvent":"Event",r="mouseover"===s.type?"mouseenter":"mouseout"===s.type?"mouseleave":s.type;e+="setTimeout(function(){\n                evt = new ".concat(o,'( "').concat(r,'", {\n                    bubbles: ').concat(s.evt.bubbles,",\n                    cancelable: ").concat(s.evt.cancelable,",\n                    clientX: ").concat(s.evt.clientX,",\n                    clientY: ").concat(s.evt.clientY,",\n                    layerX: ").concat(s.evt.layerX,",\n                    layerY: ").concat(s.evt.layerY,",\n                    pageX: ").concat(s.evt.pageX,",\n                    pageY: ").concat(s.evt.pageY,",\n                    x: ").concat(s.evt.x,",\n                    y: ").concat(s.evt.y,",\n                    screenX: ").concat(s.evt.screenX,",\n                    screenY: ").concat(s.evt.screenY,",\n                    which: ").concat(s.evt.which,"\n                });\n                window.document.querySelectorAll('").concat(s.selector,"')[").concat(s.index,"].dispatchEvent(evt);\n                ")}),a.forEach(function(t){e+="}, ".concat(t,")\n            ")}),e}},{key:"export",value:function(){var e=this.getPageActions(),t=new window.Blob([e],{type:"text/javascript"}),n=window.document.createElement("a"),i=window.URL.createObjectURL(t);n.href=i,n.download="test.js",window.document.body.appendChild(n),n.click(),setTimeout(function(){window.document.body.removeChild(n),window.URL.revokeObjectURL(i)},0)}},{key:"update",value:function(){}}]),e}();o.default.registerComponent("e1-ui-recorder",r)},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},function(e,t){},function(e,t){e.exports='<div>\n    <div class="ui-recorder-wrapper">\n        <div class="ui-recorder-inner">\n            <button class="ui-record-button">Record</button>\n            <button class="ui-stop-button">Stop</button>\n            <button class="ui-play-button">Play</button>\n            <button class="ui-edit-button">Edit</button>\n            <button class="ui-export-button">Export</button>\n        </div>\n    </div>\n    <div class="ui-edit-section"></div>\n    <div class="ui-highlighter"></div>\n</div>'},function(e,t){e.exports='<div e1-repeat="@E1UiRecorderService.pageActions" delimiter="$key">\n    <div class="ui-action">\n        <div class="ui-action-info" onmouseenter="E1UiRecorderService.highlight($key)" onmouseleave="E1UiRecorderService.unhighlight()">\n            <span e1-content="@E1UiRecorderService.pageActions.$key.type"></span>\n            <span> - </span>\n            <span e1-content="@E1UiRecorderService.pageActions.$key.selector"></span>\n            <span> </span>\n            <span e1-content="@E1UiRecorderService.pageActions.$key.index"></span>\n        </div>\n        <div class="ui-delete-action" onclick="E1UiRecorderService.delete($key)">\n            <e1-icon type="delete"></e1-icon>\n        </div>\n    </div>\n</div>'},function(e,t,n){n(11),n(12)},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(){function e(t){i(this,e),this.el=t,this.el["e1-accordian-toggle-onUpdate"]=this.update,this.setup()}return s(e,[{key:"setup",value:function(){var e=this,t=this.el.getAttribute("e1-accordian-toggle-group");this.el.addEventListener("mouseup",function(){var n=window.document.querySelector('[e1-accordian-toggle-group="'.concat(t,'"][e1-accordian-content="').concat(e.el.getAttribute("e1-accordian-toggle"),'"]')),i=window.document.querySelector('[e1-accordian-toggle-group="'.concat(t,'"][e1-accordian-toggle].active-accordian')),a=window.document.querySelector('[e1-accordian-toggle-group="'.concat(t,'"][e1-accordian-content].active-accordian'));n&&(n.classList.add("active-accordian"),e.el.classList.add("active-accordian"),setTimeout(function(){n.style.removeProperty("max-height")},3e3),i&&i.classList.remove("active-accordian"),a&&a.classList.remove("active-accordian"))})}},{key:"update",value:function(){}}]),e}();o.default.registerAttribute("e1-accordian-toggle",r)},function(e,t,n){n(14)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){i(this,e),this.el=t,this.el["e1-attribute-onUpdate"]=this.update,this.renderAttributes()}return s(e,[{key:"renderAttributes",value:function(){var e=this;this.el.getAttribute("e1-attribute").split("&&").map(function(e){return e.trim()}).forEach(function(t){var n=t.split(":").map(function(e){return e.trim()});if(n.length>1){var i=o.getModel(null,n[0]);i?e.el.setAttribute(n[1],i):e.el.removeAttribute(n[1])}})}},{key:"update",value:function(){this.renderAttributes()}}]),e}();o.registerAttribute("e1-attribute",r)},function(e,t,n){n(16)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){i(this,e),this.el=t,this.el["e1-class-onUpdate"]=this.update,this.classes=[],this.renderClasses()}return s(e,[{key:"renderClasses",value:function(){var e=this,t=this.el.getAttribute("e1-class"),n=t.split("&&").map(function(e){return e.trim()}),i=[];n.forEach(function(e){var t=e.split("?").map(function(e){return e.trim()});if(t.length>1){var n=o.getModel(null,t[0]);"@"===t[1].substring(0,1)&&(t[1]=o.getModel(null,t[1])),n?-1===i.indexOf(t[1])&&i.push(t[1]):i.indexOf(t[1])>-1&&i.splice(i.indexOf(t[1]),1)}else{var a=o.getModel(null,t[0]);a&&i.push(a)}}),this.classes.forEach(function(t){-1===i.indexOf(t)&&e.el.classList.remove(t)}),this.classes=i,this.classes.forEach(function(t){e.el.classList.add(t)})}},{key:"update",value:function(){this.renderClasses()}}]),e}();o.registerAttribute("e1-class",r)},function(e,t,n){n(18)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){i(this,e),this.el=t,this.el["e1-content-onUpdate"]=this.update,this.content=o.cleanHtml(o.getModel(this.el,"e1-content"),this.el),this.el.innerHTML="",this.content&&this.el.appendChild(this.content)}return s(e,[{key:"update",value:function(){var e=o.cleanHtml(o.getModel(this.el,"e1-content"),this.el);e!==this.content&&(this.content=e,this.el.innerHTML="",this.content&&this.el.appendChild(this.content))}}]),e}();o.registerAttribute("e1-content",r)},function(e,t,n){n(20)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){i(this,e),this.el=t,this.el["e1-if-onUpdate"]=this.update,this.parentNode=this.el.parentNode,this.index=Array.prototype.indexOf.call(this.el.parentNode.children,this.el),this.comment=window.document.createComment(this.el.getAttribute("component-id")),this.parentNode.insertBefore(this.comment,this.el),this.check()||this.parentNode.removeChild(this.el),this.throttle=null}return s(e,[{key:"check",value:function(){var e=this.el.getAttribute("e1-if"),t=e&&"@"!==e[0]&&"null"!==e&&"undefined"!==e&&"false"!==e;return o.isTruthy(this.el.getAttribute("e1-if"))||t}},{key:"update",value:function(){var e=this;clearTimeout(this.throttle),this.throttle=setTimeout(function(){var t=e.check();t&&!e.el.parentNode?e.parentNode.insertBefore(e.el,e.comment):!t&&e.parentNode.contains(e.el)&&e.parentNode.removeChild(e.el)},10)}}]),e}();o.registerAttribute("e1-if",r)},function(e,t,n){"use strict";n(22)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(){function e(t){i(this,e),this.el=t,this.el["e1-proximity-onUpdate"]=this.update,this.dimension="top",this.target="body"===this.el.parentNode.tagName.toLowerCase()?this.el.parentNode:this.el.parentNode.parentNode,this.targetDimension="bottom",this.threshold=0,this.isInProximity=!1,this.inProximity=function(){},this.outProximity=function(){},this.update();var n=this;!function e(){n.check(),window.requestAnimationFrame(e)}()}return s(e,[{key:"check",value:function(){if(this.target){var e=this.target.getBoundingClientRect()[this.targetDimension],t=this.el.getBoundingClientRect()[this.dimension],n=t-e;n<this.threshold&&!this.isInProximity?(this.isInProximity=!0,this.inProximity()):n>this.threshold&&this.isInProximity&&(this.isInProximity=!1,this.outProximity())}}},{key:"update",value:function(){var e=["top","bottom","left","right"],t=o.default.getModel(this.el,"e1-proximity"),n=o.default.getModel(this.el,"e1-proximity-target"),i=o.default.getModel(this.el,"e1-proximity-target-dimension"),a=o.default.getModel(this.el,"e1-proximity-threshold");isNaN(parseFloat(a))||(this.threshold=parseFloat(a)),t&&e.indexOf(t.toLowerCase())&&(this.dimension=t.toLowerCase()),i&&e.indexOf(i.toLowerCase())&&(this.targetDimension=i.toLowerCase()),n&&(n=window.document.querySelector(n))&&(this.target=n),this.inProximity=o.default.getModel(this.el,"e1-proximity-in",this.inProximity),this.outProximity=o.default.getModel(this.el,"e1-proximity-out",this.outProximity)}}]),e}();o.default.registerAttribute("e1-proximity",r)},function(e,t,n){n(24)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){i(this,e),this.el=t,this.template=this.el.innerHTML,this.el["e1-repeat-onUpdate"]=this.update,this.update()}return s(e,[{key:"update",value:function(){var e=this,t=o.getModel(this.el,"e1-repeat");this.el.innerHTML="",t&&t.length&&t.forEach(function(t,n){var i=e.template.split(e.el.getAttribute("delimiter")).join(n);e.el.innerHTML+=i})}}]),e}();o.registerAttribute("e1-repeat",r)},function(e,t,n){n(26)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){i(this,e),this.el=t,this.el["e1-if-style"]=this.update,this.setStyles()}return s(e,[{key:"setStyles",value:function(){var e=this.el.getAttribute("e1-style").split("&&").map(function(e){return e.trim()}),t="";e.forEach(function(e){if(e=e.split(":").map(function(e){return e.trim()}),2===e.length){var n=o.getModel(null,e[0]);(n||0===n)&&(t+="".concat(e[1],":").concat(n,";"))}else t+=o.getModel(null,e[0])}),""!==t?this.el.setAttribute("style",t):this.el.removeAttribute("style")}},{key:"update",value:function(){this.setStyles()}}]),e}();o.registerAttribute("e1-style",r)},function(e,t,n){n(28)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(){function e(t){i(this,e),this.el=t,this.el["e1-show-onUpdate"]=this.update,this.throttle=null,this.update()}return s(e,[{key:"check",value:function(){var e=this.el.getAttribute("e1-show"),t=e&&"@"!==e[0]&&"null"!==e&&"undefined"!==e&&"false"!==e;return o.default.isTruthy(this.el.getAttribute("e1-show"))||t}},{key:"update",value:function(){var e=this;clearTimeout(this.throttle),this.throttle=setTimeout(function(){e.check()?e.el.style.removeProperty("display"):e.el.style.display="none"},10)}}]),e}();o.default.registerAttribute("e1-show",r)},function(e,t,n){n(30)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){var n=this;if(i(this,e),this.el=t,this.el["e1-value-onUpdate"]=this.update,(this.el.value||this.el.checked&&"checkbox"===this.el.type||this.el.innerHTML&&"textarea"===this.el.tagName.toLowerCase())&&void 0===o.getModel(this.el,"e1-value",void 0)&&(this.value=this.el.value,"checkbox"===this.el.type&&(this.value=!0),"textarea"===this.el.tagName.toLowerCase()&&(this.value=this.el.innerHTML),o.setModel(this.el,"e1-value",this.value)),this.setValue(),"checkbox"===this.el.type)return void this.el.addEventListener("click",function(){o.setModel(n.el,"e1-value",n.el.checked)});this.el.addEventListener("input",function(){if(n.value=n.el.value,"array"===n.valueType||"object"===n.valueType)try{n.value=JSON.parse(n.el.value)}catch(e){}o.setModel(n.el,"e1-value",n.value)})}return s(e,[{key:"typeOfValue",value:function(e){try{e=JSON.parse(e)}catch(e){}if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e)return"boolean";if("number"==typeof e)return"number";if("[object Date]"===Object.prototype.toString.call(e)||e.indexOf&&e.indexOf(":")>-1&&"Invalid Date"!==new Date(e)&&!isNaN(new Date(e)))return"date";if("string"==typeof e)return"string";var t={}.toString.apply(e);return"[object Array]"===t?"array":"[object Object]"===t?"object":"[object Function]"===t?"function":void 0}},{key:"setValue",value:function(){if(this.el.setAttribute("value",o.getModel(this.el,"e1-value")),this.value=o.getModel(this.el,"e1-value"),this.valueType=this.typeOfValue(this.value),"array"===this.valueType||"object"===this.valueType)try{this.value=JSON.stringify(this.value)}catch(e){}"text"===this.el.type&&void 0!==this.value&&null!==this.value&&(this.value=this.value.toString()),"textarea"===this.el.nodeName.toLowerCase()&&(this.el.innerHTML=this.value),"number"===this.el.type&&void 0!==this.value&&null!==this.value&&(this.value=parseFloat(this.value)),"checkbox"===this.el.type&&(this.value?(this.el.checked=!0,this.el.removeAttribute("value")):(this.el.checked=!1,this.el.removeAttribute("value"))),this.el.value=this.value}},{key:"update",value:function(){this.setValue()}}]),e}();o.registerAttribute("e1-value",r)},function(e,t,n){"use strict";n(32),n(33)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){i(this,e),this.el=t,this.update=this.update,this.collapse=parseFloat(o.getModel(this.el,"collapse",300)),this.target=window.document.querySelector(o.getModel(this.el,"target","[component-id=".concat(this.el.getAttribute("component-id"),"]"))),this.toggle=this.el.querySelector("[e1-collapse-toggle]"),this.content=this.el.querySelector("[e1-collapse-content]"),this.toggle||(this.toggle=window.document.createElement("div"),this.toggle.setAttribute("e1-collapse-toggle",""),this.toggle.appendChild(o.cleanHtml('<e1-icon type="down"></e1-icon>'))),this.content||(this.content=window.document.createElement("div"),this.content.setAttribute("e1-collapse-content",""),this.content.innerHTML=this.el.innerHTML),this.el.innerHTML="",this.el.appendChild(this.toggle),this.el.appendChild(this.content);var n=this,a=/iPad|iPhone|iPod|Android/.test(window.navigator.userAgent),s=function(){n.el.classList.toggle("open")};a?this.toggle.addEventListener("touch",s):this.toggle.addEventListener("click",s);!function e(){n.check(),window.requestAnimationFrame(e)}()}return s(e,[{key:"check",value:function(){this.target&&(this.target.getBoundingClientRect().width>this.collapse?this.el.classList.remove("collapse"):this.el.classList.add("collapse"))}},{key:"update",value:function(){this.collapse=parseFloat(o.getModel(this.el,"collapse",300)),this.target=window.document.querySelector(o.getModel(this.el,"target","[component-id=".concat(this.el.getAttribute("component-id"),"]")))}}]),e}();o.registerComponent("e1-collapse",r)},function(e,t){},function(e,t,n){n(35),n(36),n(38),n(39),n(40),n(42)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(){i(this,e),this.hues=[75,85,95,105,115,125,135,145,155,165,175,185,195,205,215,225,235,245,255,265,275,285,295,305,315,325,335,345,355,5,15,25,35,45,55,65],this.formats=["HSL","HEX","RGB"],this.pickers={}}return s(e,[{key:"hueLightFromPoint",value:function(e,t){var n=t.getBoundingClientRect(),i=n.width/2,a=n.left,s=n.top,o=i+a,r=i+s,c=e.pageX-o,l=e.pageY-r,u=Math.atan2(l,c)*(180/Math.PI),d=u;d<0&&(d+=360);var h=Math.abs(c),p=Math.abs(l),v=Math.round(100-100*Math.sqrt(h*h+p*p)/i);return{h:Math.round(d)>-1||Math.round(d)<360?Math.round(d):0,l:v>-1?v<101?v:100:0}}},{key:"radialXY",value:function(e,t,n){var i=n.getBoundingClientRect(),a=i.width/2,s=a*((100-t)/100),o=e;return{x:a+s*Math.cos(o*Math.PI/180),y:2*a-(a+-s*Math.sin(o*Math.PI/180))}}},{key:"validHex",value:function(e){var t=e.split("");return"#"===t[0]&&t.shift(),3===t.length&&(t=t.concat(t)),e="#"+t.join("")}},{key:"getFormat",value:function(e){return e.indexOf("#")>-1?"hex":e.indexOf("hsla")>-1?"hsla":e.indexOf("hsl")>-1?"hsl":e.indexOf("rgba")>-1?"rgba":e.indexOf("rgb")>-1?"rgb":e.indexOf("transparent")>-1?"transparent":null}},{key:"convert",value:function(e){var t;switch(this.getFormat(e)){case"hex":return e=this.validHex(e),t=this.hexToRgb(e),t=Object.assign(t,this.rgbToHsl(t)),t.a=t.a||1,t.hex=e,t;case"hsla":return e=e.split("(")[1],e=e.substring(0,e.length-1),e=e.split(","),t={h:parseInt(e[0]),s:parseInt(e[1]),l:parseInt(e[2]),a:parseFloat(e[3])},t=Object.assign(t,this.hslToRgb(t)),t.hex=this.rgbToHex(t),t;case"hsl":return e=e.split("(")[1],e=e.substring(0,e.length-1),e=e.split(","),t={h:parseInt(e[0]),s:parseInt(e[1]),l:parseInt(e[2])},t=Object.assign(t,this.hslToRgb(t)),t.a=1,t.hex=this.rgbToHex(t),t;case"rgba":return e=e.split("(")[1],e=e.substring(0,e.length-1),e=e.split(","),t={r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2]),a:parseFloat(e[3])},t=Object.assign(t,this.rgbToHsl(t)),t.hex=this.rgbToHex(t),t;case"rgb":return e=e.split("(")[1],e=e.substring(0,e.length-1),e=e.split(","),t={r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2])},t=Object.assign(t,this.rgbToHsl(t)),t.a=1,t.hex=this.rgbToHex(t),t;default:return{h:0,s:0,l:0,a:0,r:0,g:0,b:0,hex:"#000000"}}}},{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?4===t.length?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:parseInt(t[4],8)/100}:null}},{key:"rgbToHsl",value:function(e){var t,n,i=e.r/255,a=e.g/255,s=e.b/255,o=Math.max(i,a,s),r=Math.min(i,a,s),c=(o+r)/2;if(o===r)t=n=0;else{var l=o-r;switch(n=c>.5?l/(2-o-r):l/(o+r),o){case i:t=(a-s)/l+(a<s?6:0);break;case a:t=(s-i)/l+2;break;case s:t=(i-a)/l+4}t/=6}return isNaN(t)&&(t=0),{h:Math.round(360*t*100)/100,s:Math.round(100*n*100)/100,l:Math.round(100*c*100)/100}}},{key:"hslToRgb",value:function(e){var t,n,i,a,s,o,r=e.h,c=e.s,l=e.l;return isFinite(r)||(r=0),isFinite(c)||(c=0),isFinite(l)||(l=0),r/=60,r<0&&(r=6- -r%6),r%=6,c=Math.max(0,Math.min(1,c/100)),l=Math.max(0,Math.min(1,l/100)),s=(1-Math.abs(2*l-1))*c,o=s*(1-Math.abs(r%2-1)),r<1?(t=s,n=o,i=0):r<2?(t=o,n=s,i=0):r<3?(t=0,n=s,i=o):r<4?(t=0,n=o,i=s):r<5?(t=o,n=0,i=s):(t=s,n=0,i=o),a=l-s/2,t=Math.round(255*(t+a)),n=Math.round(255*(n+a)),i=Math.round(255*(i+a)),{r:t,g:n,b:i}}},{key:"intToHex",value:function(e){var t=parseInt(e).toString(16);return t.length<2?"0"+t:t}},{key:"rgbToHex",value:function(e){var t="#"+this.intToHex(e.r)+this.intToHex(e.g)+this.intToHex(e.b);return e.hasOwnProperty("a")&&e.a<1&&(t+=this.intToHex(255*e.a)),t}}]),e}();o.registerService("ColorPickerService",new r)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=n(37),c=function(){function e(t){var n=this;i(this,e),this.el=t,this.update=this.update,this.el.innerHTML=r,this.picker=o.getModel(this.el,"picker"),this.el.updateColor=function(){n.update()};var a=!1,s=function(e){if(a){var t=o.services.ColorPickerService.hueLightFromPoint(e,n.el.querySelector(".c-ckolor__wheel-value"));n.picker.values=o.services.ColorPickerService.convert("hsla(".concat(t.h,", ").concat(n.picker.values.s,"%, ").concat(t.l,"%, ").concat(n.picker.values.a,")")),o.setModel(null,"@ColorPickerService.pickers.".concat(n.picker.name,".values"),n.picker.values),n.update()}},c=function(){a=!1,n.el.removeEventListener("mousemove",s)};this.el.addEventListener("mousedown",function(e){e.preventDefault(),a=!0,s(e),n.el.addEventListener("mousemove",s)}),this.el.addEventListener("mouseleave",function(){c()}),window.document.addEventListener("mouseup",function(){c()}),window.document.addEventListener("mouseleave",function(){c()}),window.requestAnimationFrame(function(){n.update()}),o.subscribe("@ColorPickerService.pickers.".concat(this.picker.name,".values"),function(){n.update()})}return s(e,[{key:"update",value:function(){var e=this;window.requestAnimationFrame(function(){for(var t=e.el.querySelector(".c-ckolor__wheel-scoop"),n=e.el.querySelectorAll(".c-ckolor__wheel-color-inner2"),i=o.getModel(e.el,"picker").values.h,a=o.getModel(e.el,"picker").values.s,s=o.getModel(e.el,"picker").values.l,r=o.services.ColorPickerService.radialXY(i,s,e.el.querySelector(".c-ckolor__wheel-value")),c=0;c<n.length;c++){var l="hsl(".concat(o.services.ColorPickerService.hues[c],", ").concat(a,"%, 50%)");n[c].style.backgroundColor=l}t.style.backgroundColor="hsl(".concat(i,", ").concat(a,"%, ").concat(s,"%)"),t.style.left=r.x+"px",t.style.top=r.y+"px"})}}]),e}();o.registerComponent("e1-color-wheel",c)},function(e,t){e.exports='<div class="c-ckolor__wheel">\n    <div class="c-ckolor__wheel-colors">\n        <div e1-repeat="@ColorPickerService.hues" delimiter="$index">\n            <div class="c-ckolor__wheel-color">\n                <div class="c-ckolor__wheel-color-inner1">\n                    <div class="c-ckolor__wheel-color-inner2"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="c-ckolor__wheel-value">\n        <span class="c-ckolor__wheel-scoop"></span>\n    </div>\n</div>'},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(){function e(t){var n=this;i(this,e),this.el=t,this.update=this.update,this.el.innerHTML='<div class="input-range"><div class="input-range-handle"></div></div>',this.picker=o.default.getModel(this.el,"picker"),this.key=o.default.getModel(this.el,"key"),this.max=parseInt(o.default.getModel(this.el,"max"));var a=!1,s=function(e){if(a){var t=n.el.getBoundingClientRect(),i=(e.pageX-t.left)/t.width*100;i=i<0?0:i>100?100:i,i=i?i/100*n.max:i,n.picker.values[n.key]=i,["h","s","l"].indexOf(n.key)>-1?n.picker.values=o.default.services.ColorPickerService.convert("hsla(".concat(n.picker.values.h,", ").concat(n.picker.values.s,", ").concat(n.picker.values.l,", ").concat(n.picker.values.a,")")):n.picker.values=o.default.services.ColorPickerService.convert("rgba(".concat(n.picker.values.r,", ").concat(n.picker.values.g,", ").concat(n.picker.values.b,", ").concat(n.picker.values.a,")")),o.default.setModel(null,"@ColorPickerService.pickers.".concat(n.picker.name),n.picker)}},r=function(){a=!1,window.document.removeEventListener("mousemove",s)};this.el.addEventListener("mousedown",function(e){e.preventDefault(),a=!0,s(e),window.document.addEventListener("mousemove",s)}),this.el.addEventListener("mouseleave",function(){r()}),window.document.addEventListener("mouseup",function(){r()}),window.document.addEventListener("mouseleave",function(){r()}),o.default.subscribe("@ColorPickerService.pickers.".concat(this.picker.name,".values"),function(){n.update()}),window.requestAnimationFrame(function(){n.update()})}return s(e,[{key:"update",value:function(){this.key=o.default.getModel(this.el,"key"),this.max=parseInt(o.default.getModel(this.el,"max"));var e=this.el.querySelector(".input-range-handle");e.style.left="calc(".concat(this.picker.values[this.key]/this.max*100,"% - ").concat(e.offsetWidth/2,"px)");var t;t="a"===this.key?"linear-gradient(to right, hsla(".concat(this.picker.values.h,", ").concat(this.picker.values.s,"%, ").concat(this.picker.values.l,"%, 0), hsla(").concat(this.picker.values.h,", ").concat(this.picker.values.s,"%, ").concat(this.picker.values.l,"%, 1) 100%)"):"linear-gradient(to right, hsl(".concat(this.picker.values.h,", 0%, ").concat(this.picker.values.l,"%), hsl(").concat(this.picker.values.h,", 100%, ").concat(this.picker.values.l,"%) 100%)"),this.el.querySelector(".input-range").style.background=t}}]),e}();o.default.registerComponent("e1-color-slider",r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var r=i(n(0)),c=i(n(41)),l=function(){function e(t){var n=this;a(this,e),this.el=t,this.update=this.update,this.color=r.default.getModel(t,"color"),this.updateTimer=null,this.picker={name:this.el.getAttribute("component-id"),modal:{active:!1,content:"color"},values:r.default.services.ColorPickerService.convert(this.color),type:r.default.services.ColorPickerService.getFormat(this.color)?r.default.services.ColorPickerService.getFormat(this.color).split("a").join("").toUpperCase():r.default.services.ColorPickerService.formats[0]},r.default.services.ColorPickerService.pickers[this.picker.name]=this.picker,this.el.innerHTML=c.default.split("{{colorAttr}}").join(this.el.getAttribute("color")).split("{{picker}}").join(this.picker.name);var i=this.el.querySelector(".color-result"),s=this.el.querySelectorAll(".colorpicker-modal input"),o=this.el.querySelector(".save-color"),l=this.el.querySelector(".cancel-color");o.addEventListener("click",function(){if("HEX"===n.picker.type.label)n.color=n.picker.values.hex;else{var e="HSL"===n.picker.type.label?"hsl(":"rgb(",i=")";1!==n.picker.values.a&&(e="HSL"===n.picker.type.label?"hsla(":"rgba(",i=", ".concat(n.picker.values.a,")")),n.color=e+("HSL"===n.picker.type.label?"".concat(n.picker.values.h,", ").concat(n.picker.values.s,"%, ").concat(n.picker.values.l,"%"):"".concat(n.picker.values.r,", ").concat(n.picker.values.g,", ").concat(n.picker.values.b))+i}window.localStorage.getItem("ColorpickerColors")||window.localStorage.setItem("ColorpickerColors",JSON.stringify([]));var a=JSON.parse(window.localStorage.getItem("ColorpickerColors"));a.push(n.color),a.length>21&&a.shift(),window.localStorage.setItem("ColorpickerColors",JSON.stringify(a)),r.default.setModel(t,"color",n.color),r.default.setModel(null,"@ColorPickerService.previousColors",a),r.default.setModel(null,"@ColorPickerService.pickers.".concat(n.picker.name,".modal.active"),!1)}),l.addEventListener("click",function(){r.default.setModel(null,"@ColorPickerService.pickers.".concat(n.picker.name,".modal.active"),!1)}),i.addEventListener("click",function(){i.blur(),r.default.setModel(null,"@ColorPickerService.pickers.".concat(n.picker.name,".modal.active"),!0),setTimeout(function(){r.default.setModel(null,"@ColorPickerService.pickers.".concat(n.picker.name,".values"),n.picker.values)},10)});for(var u=0;u<s.length;u++)!function(e){e.addEventListener("input",function(e){var t=e.target.getAttribute("color"),i=e.target.value,a="";"hex"===t&&(!i||i.length<7)||(i||(i=0),"hex"===t?a=r.default.services.ColorPickerService.validHex(i):n.picker.values[t]=i,"r"!==t&&"g"!==t&&"b"!==t&&"a"!==t||(a="rgba(".concat(n.picker.values.r,", ").concat(n.picker.values.g,", ").concat(n.picker.values.b,", ").concat(n.picker.values.a,")")),"h"!==t&&"s"!==t&&"l"!==t||(a="hsla(".concat(n.picker.values.h,", ").concat(n.picker.values.s,"%, ").concat(n.picker.values.l,"%, ").concat(n.picker.values.a,")")),n.picker.values=r.default.services.ColorPickerService.convert(a),r.default.setModel(null,"@ColorPickerService.pickers.".concat(n.picker.name,".values"),n.picker.values),n.updateColorSample())})}(s[u]);r.default.subscribe("@ColorPickerService.pickers.".concat(this.picker.name,".values"),function(){n.updateColorSample()}),this.updateColorSample(),r.default.setModel(null,"@ColorPickerService.previousColors",JSON.parse(window.localStorage.getItem("ColorpickerColors"))||[]),window.addEventListener("resize",function(){r.default.setModel(null,"@ColorPickerService.pickers.".concat(n.picker.name,".values"),n.picker.values)})}return o(e,[{key:"updateColorSample",value:function(){this.el.querySelector(".color-sample")&&(this.el.querySelector(".color-sample").style.background="hsla(".concat(this.picker.values.h,", ").concat(this.picker.values.s,"%, ").concat(this.picker.values.l,"%, ").concat(this.picker.values.a,")"))}},{key:"update",value:function(){this.color=r.default.getModel(this.el,"color"),this.picker.values=r.default.services.ColorPickerService.convert(this.color),r.default.setModel(null,"@ColorPickerService.pickers.".concat(this.picker.name,".values"),this.picker.values),this.el.querySelector("e1-color-wheel").updateColor(),this.updateColorSample()}}]),e}();r.default.registerComponent("e1-colorpicker",l)},function(e,t){e.exports='<div class="color-picker-wrapper">\n    <div class="colorpicker-modal" e1-show="@ColorPickerService.pickers.{{picker}}.modal.active" style="display:none;">\n        <div class="colorpicker-inner">\n            <div class="color-left">\n                <e1-color-wheel picker="@ColorPickerService.pickers.{{picker}}"></e1-color-wheel>\n            </div>\n            <div class="color-right">\n                <e1-color-slider picker="@ColorPickerService.pickers.{{picker}}" key="s" max=100></e1-color-slider>\n                <e1-color-slider picker="@ColorPickerService.pickers.{{picker}}" key="a" max=1></e1-color-slider>\n                <div class="colorpicker-inputs">\n                    <div class="format-selector">\n                        <label>Format</label>\n                        <e1-select options="@ColorPickerService.formats" value="@ColorPickerService.pickers.{{picker}}.type"></e1-select>\n                    </div>\n                    <div class="color-inputs">\n                        <div e1-show="@ColorPickerService.pickers.{{picker}}.type.label === \'HEX\'">\n                            <label>HEX</label>\n                            <input class="color-input hex" type="text" color="hex" e1-value="@ColorPickerService.pickers.{{picker}}.values.hex">\n                        </div>\n                        <div e1-show="@ColorPickerService.pickers.{{picker}}.type.label === \'HSL\'">\n                            <label>H</label>\n                            <input class="color-input" type="number" color="h" e1-value="@ColorPickerService.pickers.{{picker}}.values.h" min=0 max=359>\n                        </div>\n                        <div e1-show="@ColorPickerService.pickers.{{picker}}.type.label === \'HSL\'">\n                            <label>S</label>\n                            <input class="color-input" type="number" color="s" e1-value="@ColorPickerService.pickers.{{picker}}.values.s" min=0 max=100>\n                        </div>\n                        <div e1-show="@ColorPickerService.pickers.{{picker}}.type.label === \'HSL\'">\n                            <label>L</label>\n                            <input class="color-input" type="number" color="l" e1-value="@ColorPickerService.pickers.{{picker}}.values.l" min=0 max=100>\n                        </div>\n                        <div e1-show="@ColorPickerService.pickers.{{picker}}.type.label === \'RGB\'">\n                            <label>R</label>\n                            <input class="color-input" type="number" color="r" e1-value="@ColorPickerService.pickers.{{picker}}.values.r" min=0 max=255>\n                        </div>\n                        <div e1-show="@ColorPickerService.pickers.{{picker}}.type.label === \'RGB\'">\n                            <label>G</label>\n                            <input class="color-input" type="number" color="g" e1-value="@ColorPickerService.pickers.{{picker}}.values.g" min=0 max=255>\n                        </div>\n                        <div e1-show="@ColorPickerService.pickers.{{picker}}.type.label === \'RGB\'">\n                            <label>B</label>\n                            <input class="color-input" type="number" color="b" e1-value="@ColorPickerService.pickers.{{picker}}.values.b" min=0 max=255>\n                        </div>\n                        <div e1-show="@ColorPickerService.pickers.{{picker}}.type.label !== \'HEX\' && @ColorPickerService.pickers.{{picker}}.values.a !== 1">\n                            <label>A</label>\n                            <input class="color-input" type="number" color="a" e1-value="@ColorPickerService.pickers.{{picker}}.values.a" min=0 max=1\n                                step="0.01">\n                        </div>\n                    </div>\n                </div>\n                <div class="colorpicker-inputs bottom">\n                    <div class="color-sample"></div>\n                    <div class="colorpicker-buttons">\n                        <div>\n                            <button class="save-color">\n                                <span class="btn-spacer">W</span>\n                                <e1-icon type="check" class="color-button"></e1-icon>\n                            </button>\n                        </div>\n                        <div>\n                            <button class="cancel-color">\n                                <span class="btn-spacer">W</span>\n                                <e1-icon type="close" class="color-button"></e1-icon>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n    \n                <div class="previous-colors" e1-repeat="@ColorPickerService.previousColors" delimiter="$key">\n                    <div class="previous-color" e1-style="@ColorPickerService.previousColors.$key:background-color" onclick="E1.setModel(null, \'{{colorAttr}}\', \'@ColorPickerService.previousColors.$key\')"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <input readonly class="color-result" type="text" e1-value="{{colorAttr}}">\n    <font e1-style="{{colorAttr}}:background-color"></font>\n</div>'},function(e,t){},function(e,t,n){n(44),n(45)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){var n=this;i(this,e),this.el=t,this.update=this.update,this.label=o.getModel(this.el,"label"),this.list=this.getList();var a=window.document.createElement("div");a.className="dropdown-container",/iPad|iPhone|iPod|Android/.test(window.navigator.userAgent)||a.classList.add("non-mobile"),a.appendChild(this.getLabel()),a.appendChild(this.getOptions()),this.el.appendChild(a);var s,r=!1,c=function(){clearTimeout(s),n.el.querySelector(".dropdown-container").classList.add("mouseenter")};/iPad|iPhone|iPod|Android/.test(window.navigator.userAgent)?window.document.body.addEventListener("click",function(e){clearTimeout(r);var t=e.path?e.path[0]:e.originalTarget?e.originalTarget:e.target;r=setTimeout(function(){var e=n.el.querySelector(".dropdown-container");try{t===n.el.querySelector(".dropdown-list-label")?e.classList.toggle("mouseenter"):t===n.el||n.el.contains(t)||e.classList.remove("mouseenter")}catch(e){}},10)}):(this.el.addEventListener("mouseenter",function(){c()},!1),this.el.addEventListener("mouseleave",function(){s=setTimeout(function(){n.el.querySelector(".dropdown-container").classList.remove("mouseenter")},380)}))}return s(e,[{key:"getLabel",value:function(){var e=o.getModel(this.el,"label"),t=window.document.createElement("div");return t.className="dropdown-list-label",t.appendChild(o.cleanHtml(e)),this.list&&this.list.length?t.classList.add("has-options"):t.classList.remove("has-options"),t}},{key:"getOptions",value:function(){var e=this,t=window.document.createElement("div");return t.className="dropdown-list-options",this.list&&this.list.length&&this.list.forEach(function(n,i){var a=window.document.createElement("div");a.className="dropdown-list-option",a.appendChild(o.cleanHtml(n)),a.setAttribute("option-key",i);var s=!1;a.addEventListener("click",function(t){clearTimeout(s),s=setTimeout(function(){var n=e.el.querySelector(".dropdown-container");if(n.classList.contains("mouseenter")){e.el.optionClicked&&"function"==typeof e.el.optionClicked&&e.el.optionClicked(t,a);var i=o.getModel(e.el,"option-clicked");i&&"function"==typeof i&&i(t,a),window.requestAnimationFrame(function(){n.classList.remove("mouseenter")})}},10)}),t.appendChild(a)}),t}},{key:"getList",value:function(){var e=o.getModel(this.el,"list");try{e=JSON.parse(e)}catch(e){}return"string"==typeof e&&(e=e.split(",").map(function(e){return e.trim()})),e}},{key:"update",value:function(){var e=this.el.querySelector(".dropdown-container"),t=o.getModel(this.el,"label"),n=this.getList();JSON.stringify(n)!==JSON.stringify(this.list)&&(this.list=n,e.replaceChild(this.getOptions(),e.querySelector(".dropdown-list-options"))),this.label=t,e.replaceChild(this.getLabel(),e.querySelector(".dropdown-list-label"))}}]),e}();o.registerComponent("e1-dropdown",r)},function(e,t){},function(e,t,n){"use strict";n(47),n(48),n(50)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(0),s=function e(){i(this,e),this.editors={}};a.registerService("E1EditService",new s)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){var a=this;i(this,e),this.el=t,this.update=this.update,this.editor={name:this.el.getAttribute("component-id"),editing:!1,value:this.stripHtml(o.getModel(this.el,"content")),save:o.getModel(this.el,"save")},o.setModel(null,"@E1EditService.editors.".concat(this.editor.name),this.editor);var s=n(49).split("{{editor}}").join(this.editor.name);this.el.appendChild(o.cleanHtml(s));var r="click";/iPad|iPhone|iPod|Android/.test(window.navigator.userAgent)&&(r="touch"),this.el.querySelector(".edit-content").addEventListener("input",function(){var e=a.el.querySelector(".edit-content"),t=window.document.createRange(),n=window.getSelection(),i=n.anchorOffset;e.textContent=e.textContent,t=window.document.createRange(),n=window.getSelection(),t.setStart(e.childNodes[0],i),t.collapse(!0),n.removeAllRanges(),n.addRange(t)}),this.el.querySelector(".edit-content").addEventListener("keypress",function(e){e.key&&"enter"===e.key.toLowerCase()&&(o.setModel(null,"@E1EditService.editors.".concat(a.editor.name,".editing"),!1),a.el.querySelector(".edit-content").removeAttribute("contenteditable"))}),this.el.querySelector('e1-icon[type="edit"]').addEventListener(r,function(){o.setModel(null,"@E1EditService.editors.".concat(a.editor.name,".editing"),!0),a.el.querySelector(".edit-content").setAttribute("contenteditable",!0)}),this.el.querySelector('e1-icon[type="check"]').addEventListener(r,function(){o.setModel(null,"@E1EditService.editors.".concat(a.editor.name,".editing"),!1),o.setModel(a.el,"content",a.el.querySelector(".edit-content").textContent),a.el.querySelector(".edit-content").removeAttribute("contenteditable"),"function"==typeof a.editor.save&&a.editor.save(a.el.querySelector(".edit-content").textContent)}),this.el.querySelector('e1-icon[type="close"]').addEventListener(r,function(){o.setModel(null,"@E1EditService.editors.".concat(a.editor.name,".value"),o.getModel(a.el,"content")),o.setModel(null,"@E1EditService.editors.".concat(a.editor.name,".editing"),!1),a.el.querySelector(".edit-content").removeAttribute("contenteditable")})}return s(e,[{key:"stripHtml",value:function(e){var t=window.document.createElement("div");return t.appendChild(o.cleanHtml("<div>".concat(e,"</div>"))),t.textContent}},{key:"update",value:function(){o.setModel(null,"@E1EditService.editors.".concat(this.editor.name,".value"),this.stripHtml(o.getModel(this.el,"content")))}}]),e}();o.registerComponent("e1-edit",r)},function(e,t){e.exports='<span class="edit-wrapper">\n    <span class="edit-content" e1-content="@E1EditService.editors.{{editor}}.value"></span>\n    <span class="edit-buttons">\n        <span e1-show="@E1EditService.editors.{{editor}}.editing !== true">\n            <e1-icon type="edit"></e1-icon>\n        </span>\n        <span e1-show="@E1EditService.editors.{{editor}}.editing === true"><e1-icon type="check"></e1-icon></span><span e1-show="@E1EditService.editors.{{editor}}.editing === true"><e1-icon type="close"></e1-icon></span>\n    </span>\n</span>'},function(e,t){},function(e,t,n){"use strict";n(52),n(53)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){i(this,e),this.el=t,this.update=this.update,this.templates={360:'<svg type="360" class="filled-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 186.99 186.99"><defs><style>.38a1d1ab-6ec1-4287-a4df-5e1ad8465b2c{opacity:0.3;}</style></defs><title>360_2</title><path d="M100,194.3a93.5,93.5,0,1,1,93.5-93.5A93.6,93.6,0,0,1,100,194.3Zm0-182.42a88.92,88.92,0,1,0,88.92,88.92A89,89,0,0,0,100,11.89Z" transform="translate(-6.52 -7.31)"></path><path d="M101.42,193.7c-27.6,0-50.06-41.55-50.06-92.62S73.82,8.45,101.42,8.45,151.48,50,151.48,101.08,129,193.7,101.42,193.7Zm0-183c-26.34,0-47.77,40.52-47.77,90.33s21.43,90.33,47.77,90.33,47.77-40.52,47.77-90.33S127.76,10.74,101.42,10.74Z" transform="translate(-6.52 -7.31)"></path><path d="M100.45,149.81c-50.37,0-91.34-22-91.34-49.11s41-49.11,91.34-49.11,91.34,22,91.34,49.11S150.82,149.81,100.45,149.81Zm0-97.08c-49.74,0-90.2,21.52-90.2,48s40.46,48,90.2,48,90.2-21.52,90.2-48S150.19,52.73,100.45,52.73Z" transform="translate(-6.52 -7.31)"></path><ellipse style="opacity:0.3;" class="38a1d1ab-6ec1-4287-a4df-5e1ad8465b2c" cx="93.93" cy="93.39" rx="90.77" ry="48.54"></ellipse><path d="M84,116.33a9,9,0,0,1-6.26,2.25,9.21,9.21,0,0,1-6.32-2.31c-1.54-1.48-2.42-3.35-2.42-6.48v-2.31h5.82V110c0,2.25,1.32,3.35,2.91,3.35a2.63,2.63,0,0,0,2.09-1c.82-1,.93-3.35.93-5.77,0-2.64-.05-4.61-.88-5.71a2.55,2.55,0,0,0-2.2-1H75.76V95h1.92a2.36,2.36,0,0,0,1.87-.77c.88-1,.88-2.91.88-4.94s-.05-3.68-.77-4.61a2.3,2.3,0,0,0-1.92-.88c-1.48,0-2.64,1-2.64,3.13v2.75H69.28V87.32a8.36,8.36,0,0,1,2.42-6.48,8.48,8.48,0,0,1,6-2.25,8.22,8.22,0,0,1,6,2.2c1.76,1.76,2.53,4.28,2.53,8.13,0,2.64-.11,4.5-1,6.21a6.17,6.17,0,0,1-2.14,2.31,7.09,7.09,0,0,1,2.25,2.36c1,1.87,1.21,3.85,1.21,7.2C86.58,111.17,86.47,113.91,84,116.33Z" transform="translate(-6.52 -7.31)"></path><path d="M106.74,115.45c-1.54,2.2-4.12,3.13-7,3.13-3.13,0-5.44-1.15-6.81-3.13-1.54-2.2-2-4.45-2-9.17A26.94,26.94,0,0,1,92.57,97l6.87-18h6L99,94.85a4.11,4.11,0,0,1,2.42-.66,6.23,6.23,0,0,1,5.16,2.42c1.43,1.81,2,3.9,2,9.67C108.61,111.49,108,113.64,106.74,115.45ZM101.9,100a2.55,2.55,0,0,0-2.09-1,2.66,2.66,0,0,0-2.14,1c-.93,1.21-.88,3.9-.88,6.26s-.05,4.89.88,6.15a2.66,2.66,0,0,0,2.14,1,2.48,2.48,0,0,0,2.09-1c.93-1.21.88-3.79.88-6.15S102.84,101.17,101.9,100Z" transform="translate(-6.52 -7.31)"></path><path d="M128,116.27a8.93,8.93,0,0,1-6.21,2.31,9.06,9.06,0,0,1-6.26-2.31,8.22,8.22,0,0,1-2.47-6.48V87.38a8.22,8.22,0,0,1,2.47-6.48,9.06,9.06,0,0,1,6.26-2.31A8.93,8.93,0,0,1,128,80.9a8.22,8.22,0,0,1,2.47,6.48v22.41A8.23,8.23,0,0,1,128,116.27ZM124.7,87.16c0-2.25-1.26-3.35-2.86-3.35s-2.91,1.1-2.91,3.35V110c0,2.25,1.32,3.35,2.91,3.35s2.86-1.1,2.86-3.35Z" transform="translate(-6.52 -7.31)"></path></svg>',binoculars:'<svg type="binoculars" class="filled-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 193.67 141.33"><path d="M196.31,123.36v9.59c-.17.75-.38,1.5-.5,2.26A41,41,0,0,1,187.19,155c-10.7,13-24.55,17.94-41.05,15s-29.9-17-32.83-33.83c-.8-4.61-.57-9.24-.67-13.88s-3.12-10.76-8.75-11.43a35.76,35.76,0,0,0-6.47-.33c-3.83.24-7.23,1.3-9.15,5a15.31,15.31,0,0,0-2,7.23,72.18,72.18,0,0,1-.42,12.19c-3,18.34-16.79,32.62-35,35.39A41.75,41.75,0,0,1,5.29,143.41a98.65,98.65,0,0,1-2.65-10.47v-9.59c.18-.75.38-1.5.52-2.25a36,36,0,0,1,5.58-14.26c1.14-1.63,6-9.38,14.76-13.35A61.57,61.57,0,0,1,37.67,89c3.12-.61,7.38-.19,9.66-.19a56.9,56.9,0,0,0-12.5-2c-5.67-.17-13.36,2.65-13.36,2.65s10.95-16.7,17.29-26.14c4.36-6.49,9.94-10.8,17.61-12.21a30.75,30.75,0,0,1,16.46,1.19C80.4,55.13,86.94,59.08,88.5,68c.06.34.15.76.57.84s.62-.29.84-.57c.82-1.06,1.63-2.12,2.46-3.18,4.12-5.22,10.21-5.32,14.48-.25.7.84,1.23,1.78,1.84,2.66.36.52.59,1.45,1.34,1.31s.65-1.07.79-1.7A13.94,13.94,0,0,1,112,62.81a18.42,18.42,0,0,1,5.18-5.87c9.19-6.63,19.21-8,29.91-4.47a20.54,20.54,0,0,1,10.14,7.07c4.71,6.32,9.08,12.89,13.58,19.36,2.91,4.19,6.71,9.58,6.71,9.58s-7.89-2.33-14.06-2.49c-7.1-.19-12.58,1.84-11.89,2.84.35.5,3.23-.29,7.6-.07,6.28.32,12.69,3,16.58,4.69,3.58,1.56,11.46,9.18,12,10,2.48,3.6,5.2,7,6.48,11.35C195.14,117.61,195.57,120.52,196.31,123.36ZM75.94,128.19a30.59,30.59,0,1,0-30.62,30.53A30.6,30.6,0,0,0,75.94,128.19Zm108.32-.83a29.4,29.4,0,1,0-29.54,29.36A29.45,29.45,0,0,0,184.26,127.36Zm-84.8-30.3a10.87,10.87,0,0,0,7.23-2.45c2.12-1.83,2.12-4.12,0-5.92a11.29,11.29,0,0,0-14.75-.06c-2.25,1.82-2.21,4.33.07,6.13A11.64,11.64,0,0,0,99.46,97.05Z" transform="translate(-2.64 -29.49)"></path><path d="M147.64,47.1c-12.32-3.13-23.79-1.6-34.09,6.15-.16-.29-.26-.4-.24-.47,1-3.51.13-6.9-.41-10.36-.68-4.35,1.63-7.57,5-10a14,14,0,0,1,12.9-2.26A8.51,8.51,0,0,1,137,38.46a2,2,0,0,0,1.6,2.22,20.52,20.52,0,0,1,8,4.79A2.63,2.63,0,0,1,147.64,47.1Z" transform="translate(-2.64 -29.49)"></path><path d="M51.37,47c1.13-2.23,3.1-3.43,5.11-4.54a18.12,18.12,0,0,1,4.22-1.89,1.45,1.45,0,0,0,1.24-1.67c-.31-4.59,3.08-8.21,7.74-9.13,6.74-1.33,14,2.8,16,9.18a6.44,6.44,0,0,1,.06,4,15.29,15.29,0,0,0-.19,9.27c.1.32.32.75-.09,1s-.68-.16-.95-.37a35.54,35.54,0,0,0-11.42-5.68,37.65,37.65,0,0,0-12.21-1.44A39.8,39.8,0,0,0,51.37,47Z" transform="translate(-2.64 -29.49)"></path></svg>',bookmark:'<svg type="bookmark" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-5 0 220 230"><path d="M145,20H64.8C42.5,20,20,30.7,20,48v154c0,6.6,7,12,15.4,12c0,0,11.5,0.2,14.1-2c16.6-13.5,41-42.5,54.1-42.5 c13.1,0,43.4,33.1,62.2,43.5c1.7,1,8.4,1,8.4,1c8.5,0,15.4-5.4,15.4-12c0,0,0-142.8,0-158.2C189.6,28.4,175.6,20,145,20z"></path></svg>',"bookmark-filled":'<svg type="bookmark-filled" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-5 0 220 230" class="fill"><path d="M145,20H64.8C42.5,20,20,30.7,20,48v154c0,6.6,7,12,15.4,12c0,0,11.5,0.2,14.1-2c16.6-13.5,41-42.5,54.1-42.5 c13.1,0,43.4,33.1,62.2,43.5c1.7,1,8.4,1,8.4,1c8.5,0,15.4-5.4,15.4-12c0,0,0-142.8,0-158.2C189.6,28.4,175.6,20,145,20z"></path></svg>',cardboard:'<svg type="cardboard" class="filled-svg" xmlns="http://www.w3.org/2000/svg" data-name="Layer 86" viewBox="0 0 196.33 123.31"><path d="M194.33 14a12 12 0 0 0-12-12s-63.12-2-84.17-2-84.17 2-84.17 2a12 12 0 0 0-12 12S0 57.73 0 70.33c0 11.76 2 41 2 41a12 12 0 0 0 12 12h56.33s15.31-41.21 27.67-41c12.09.21 25.67 41 25.67 41h58.67a12 12 0 0 0 12-12s2-36.48 2-48.65S194.33 14 194.33 14zM46.67 86.66A28.33 28.33 0 1 1 75 58.33a28.33 28.33 0 0 1-28.33 28.33zm102 0A28.33 28.33 0 1 1 177 58.33a28.33 28.33 0 0 1-28.33 28.33z"/></svg>',check:'<svg type="check" class="filled-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 160"><path d="M0 70.68c1.91-3.47 5.27-5.54 8-8.16 3.52-3.35 7.22-6.52 10.83-9.77s6.88-3.17 10.24.26q19.18 19.51 38.33 39c3.81 3.88 6.8 3.88 10.68 0q34.95-34.83 69.89-69.66c6.66-6.64 13.38-13.22 20-19.88a9.63 9.63 0 0 1 4.44-2.51h1.54a10.29 10.29 0 0 1 4.45 2.87c5.25 5.34 10.55 10.62 15.83 15.93 3.46 3.48 3.49 7 .06 10.37L77.95 145.43c-3.37 3.37-6.93 3.4-10.24.11C45.28 123.28 23.56 100.3 1.8 77.38A22.65 22.65 0 0 1 0 74.91z"></path></svg>',"close-thin":'<svg type="close-thin" class="filled-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 612 612"><g><g id="cross"><g><polygon points="612,36.004 576.521,0.603 306,270.608 35.478,0.603 0,36.004 270.522,306.011 0,575.997 35.478,611.397 306,341.411 576.521,611.397 612,575.997 341.459,306.011 "/></g></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',close:'<svg type="close" class="filled-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 166.27 166.27"><defs><style>.0c386ab7-d9dc-414a-9885-42400d221628{fill:#231f20;}</style></defs><path d="M109.29 83.13l55.53-55.53a5 5 0 0 0 0-7.07L145.74 1.46a5 5 0 0 0-7.07 0L83.14 56.99 27.61 1.46a5 5 0 0 0-7.07 0L1.46 20.53a5 5 0 0 0 0 7.07l55.53 55.53-55.53 55.54a5 5 0 0 0 0 7.07l19.08 19.07a5 5 0 0 0 7.07 0l55.53-55.53 55.53 55.53a5 5 0 0 0 7.07 0l19.07-19.07a5 5 0 0 0 0-7.07z" class="0c386ab7-d9dc-414a-9885-42400d221628"/></svg>',contest:'<svg type="contest" class="filled-svg" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><title>cont</title><path d="M157.69,0c.53,8.6-.14,17.17-.92,25.71A199.65,199.65,0,0,1,146.3,74.63c-5.65,15.84-13.81,30.05-22.26,44.09-4.1,6.82-8.12,13.73-10.74,21.5-.62,1.85-.37,4.36-1.76,5.47-1.65,1.33-3.92.48-5.92.51-5,.07-10,0-15,0-1.38,0-2.47-.19-2.93-2C85.36,134.85,80.76,126.84,76,119c-9.1-15.1-17.75-30.48-23.45-47.65A201,201,0,0,1,43,22.47,183.16,183.16,0,0,1,42.24,0ZM86.17,74c3.92-2.35,7.28-4.11,10.48-6.25a5.26,5.26,0,0,1,6.69,0c3.2,2.17,6.61,4,10.41,6.21-.85-5.46-1.54-10.25-2.38-15a3.73,3.73,0,0,1,1-3.59q3.48-3.6,6.84-7.31c.83-.93,2.53-1.85,2.24-2.92-.41-1.48-2.26-.7-3.47-1a17.32,17.32,0,0,0-2.15-.4c-9-1.17-9-1.17-12.88-10.21-.91-2.14-1.54-4.47-3.14-6.58-2,4.69-4,9-5.8,13.43a3.31,3.31,0,0,1-3,2.34c-3.69.44-7.33,1.06-11,1.63-.61.1-1.45,0-1.62.82-.14.66.56,1,1,1.46,2.67,2.89,5.33,5.86,8.07,8.61a4.15,4.15,0,0,1,1.16,4.08C87.68,63.88,87,68.6,86.17,74Z"/><path d="M0,14.16,29.82,14a1.62,1.62,0,0,1,1.83,1.47,1.78,1.78,0,0,1,0,.46c.13,2.7.27,5.41.53,8.11.21,2.07-.57,2.73-2.38,2.73-4.69-.07-9.42,0-14.06,0-2.09,0-2.69.55-2.09,3C18.33,50,27,67.25,42.78,79.43a5.54,5.54,0,0,1,1.84,2.45c2,5.23,4.09,10.44,6.57,15.42a11.53,11.53,0,0,1,.42,1.45,5.08,5.08,0,0,1-3.28-1.08C29.48,87.53,16.47,71.19,8,50.08A119.93,119.93,0,0,1,.31,19.81,11.19,11.19,0,0,0,0,18.54Z"/><path d="M100,200c-10.83,0-21.65-.06-32.47,0-2.35,0-3.43-.64-3.22-3.52q.18-3.93,0-7.86c0-1.56.5-2.35,1.94-2.43,12.41-.53,19.25-10.47,21.37-23.2.92-5.54.85-5.55,5.94-5.55h14.29c3.75,0,3.78,0,4.28,4.24a36.91,36.91,0,0,0,4.44,14.22c3.81,6.55,9.43,9.8,16.25,10.2,2.28.13,3.21,1,3.08,3.51a63.59,63.59,0,0,0,0,7c.13,2.48-.75,3.29-3,3.28C122,200,111,200,100,200Z"/><path d="M148.5,98.61c2.52-6,4.9-11.73,7.19-17.65a5.12,5.12,0,0,1,1.89-2c15.48-12.43,24.27-29.65,28.75-50,.48-2.18-.58-2.26-1.93-2.25-4.6,0-9.21-.08-13.82,0-2.18,0-3.14-.74-2.85-3.29s.4-4.87.5-7.3c.08-1.63.81-2.15,2.19-2.15,9.13,0,18.28.07,27.41,0,2.23,0,2.3,1.33,2.09,3.14a126.51,126.51,0,0,1-7.13,30.34c-6.93,18.45-17.49,33.72-32.64,44.69A46.27,46.27,0,0,1,148.5,98.61Z"/></svg>',delete:'<svg type="delete" class="filled-svg" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 197 197" style="enable-background:new 0 0 197 197;" xml:space="preserve"><path d="M167.1,197H29.9c-0.6-1.6-1-3.1-1.3-4.8c-1.8-22.2-3.5-44.4-5.2-66.6C21.7,105.1,20,84.6,18.5,64c-0.2-3.3-1.8-4.8-6-4.7S4.1,59.2,0,59.1V40.4c2.3-0.1,4.5-0.3,6.8-0.3c61.1,0,122.3,0,183.4,0c2.3,0,4.5,0.2,6.8,0.3v18.7c-3.9,0.1-7.9,0.3-11.8,0.2c-4.3-0.1-6.4,1.1-6.7,4.8c-1,13.6-2.4,27.2-3.5,40.7c-1.9,23.9-3.3,47.8-5.6,71.7C168.8,183.3,169.9,190.3,167.1,197z M133.2,169.4h-0.5c0,1.3,0.1,2.6,0,3.9c-0.4,3.7,1.9,4.9,6.3,4.9c4.4,0,6.4-1.2,6.5-4.9c0.2-6.2,0.8-12.4,1.3-18.6c1.5-18.6,3.1-37.3,4.7-55.9c0.9-11.3,1.7-22.6,2.7-33.8c0.4-3.9-1.3-5.6-6.6-5.6c-11,0-11-0.2-11.9,8.7c-0.2,2-0.4,3.9-0.5,5.9C134.5,105.8,133.9,137.6,133.2,169.4L133.2,169.4z M62.1,122.1c0-6.1,0.1-12.1,0-18.2C61.7,91,62.5,78,61,65.1c-0.2-1.9,0.5-4.5-2.4-5.1c-4.6-1-9.7-1.5-13.9,0.2c-3.4,1.4-1.7,4.8-1.5,7.3c1,13.6,2.3,27.1,3.4,40.7c1.7,21.9,3.4,43.8,5.1,65.8c0.2,2.8,1.7,4.1,5.3,4.3c5.1,0.2,7.9-0.9,7.6-5.4C63.1,155.9,63.1,139,62.1,122.1z M106,118.7c1.8-18.2-0.1-36.4,1.9-54.5c0.2-1.6,0.5-3.7-1.9-4.2c-4.8-1-10.1-1.4-14.7,0c-4.2,1.3-1.7,4.9-1.8,7.5c0,2.1,0.3,4.2,0.4,6.4c0.6,27.5,1.1,55.1,1.7,82.6c0.1,5.7,0.7,11.4,0.9,17.2c0.1,3.4,2.3,4.5,6.3,4.5c5.5,0,5.6-2.7,5.9-5.9C105.9,154.5,105.3,136.6,106,118.7L106,118.7z"/><path d="M117.2,0C118,12.6,118,12.6,134,12.6c13.1,0,26.1,0.1,39.2,0c5.1,0,7,1.4,6.9,5.5c-0.5,16,2.7,13.7-16.8,13.8c-45.6,0.1-91.3,0-137,0c-9.3,0-9.4,0-9.3-7.4c0.2-13-2.4-11.8,14.9-11.8c13.1-0.1,26.1,0,39.2,0c8.1,0,8.4-0.3,8.5-6.7c0-2,0.1-3.9,0.2-5.9L117.2,0z"/></svg>',down:'<svg type="down" class="filled-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 166.3 166.3"><path transform="rotate(90, 83, 83)" d="M137.1,83.1c0-1.5-3.5-4.9-3.5-4.9L112.4,57L56.8,1.5c-2-2-5.1-2-7.1,0L30.7,20.5c-2,2-2,5.1,0,7.1l55.5,55.5l-55.5,55.5 c-2,2-2,5.1,0,7.1l19.1,19.1c2,2,5.1,2,7.1,0l55.5-55.5l21.5-21.5C133.8,87.8,137.1,84.5,137.1,83.1z"/></svg>',edit:'<svg type="edit" class="filled-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 193.1 193.1"><rect x="40.65" y="74.65" width="104.64" height="65.55" rx="12" ry="12" transform="translate(-52.31 93.49) rotate(-45)"></rect><rect x="130.53" y="19.31" width="35.57" height="65.55" rx="12" ry="12" transform="translate(3.03 116.41) rotate(-45)"></rect><rect x="157.57" y="-1.96" width="24.04" height="65.55" rx="11.04" ry="11.04" transform="translate(24.3 125.22) rotate(-45)"></rect><path d="M65.85,180.9,3.58,196.82,19.5,134.55a10.29,10.29,0,0,1,14.51,0l31.84,31.84A10.29,10.29,0,0,1,65.85,180.9Z" transform="translate(-3.58 -3.72)"></path></svg>',facebook:'<span class="svg-bg""></span><svg type="facebook" class="filled-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1024 1024"><g><g id="svg_1" transform="translate(0,1024) scale(0.10000000149011612,-0.10000000149011612) "><path id="svg_2" class="st0" d="M4812.2,10230.6c-660-39-1316.4-210.2-1910.2-495.9C1460.4,9040.5,420.3,7705.2,102.7,6140.9c-223.1-1096.8-79.1-2243.2,406.1-3246.7C1204.2,1455,2537.1,418.4,4099.1,102c1096.8-223.1,2243.2-79.1,3246.7,406.1c1036.6,500.6,1885.5,1349.5,2386,2386c238.5,493.5,395.5,1021.2,465.2,1563.1c128.7,991.7-33.1,1995.3-465.2,2887.8c-500.6,1036.6-1349.5,1885.5-2386,2386C6560.7,10111.3,5684.7,10283.7,4812.2,10230.6z M6900.7,7443.1l-3.5-558.4l-543.1-5.9c-613.9-7.1-576.1,0-642.3-103.9c-67.3-107.4-72-144-72-583.2v-399.1h631.6h631.6v-525.4v-525.4h-631.6h-631.6V3171.6V1601.4h-608h-608v1570.2v1570.2h-543.1h-543.1v525.4v525.4h543.1h543.1v379c0,412,11.8,539.5,66.1,727.3c148.8,512.4,545.4,924.4,1011.8,1048.4c170,46,243.2,49.6,844.1,51.9l557.3,1.2L6900.7,7443.1z"/></g></g></svg>',fullscreen:'<svg type="fullscreen" class="filled-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 193.57 193.57"><path d="M69.2.04q.06 13.21.12 26.43c0 1.05-.49 1.49-1.48 1.5H30.66c-2.59 0-2.64 0-2.64 2.64v35.88c0 2.8 0 2.81-2.84 2.8L.04 69.16V1.6C.04.24.32-.04 1.68-.04Q35.42.08 69.2.04zM193.54 69.16q-13.21.06-26.43.12c-1.05 0-1.49-.49-1.5-1.48v-1.89V30.6c0-2.59 0-2.64-2.64-2.64h-35.91c-2.8 0-2.81 0-2.8-2.84q0-12.55.12-25.11h67.65c1.29 0 1.55.25 1.55 1.55q-.08 33.81-.04 67.6zM.04 124.38q13.21-.06 26.43-.12c1.05 0 1.49.49 1.5 1.48v37.2c0 2.59 0 2.64 2.64 2.64h35.91c2.8 0 2.81 0 2.8 2.84q0 12.55-.12 25.11H1.55c-1.29 0-1.55-.25-1.55-1.55q.08-33.82.04-67.6zM124.38 193.54q-.06-13.21-.12-26.43c0-1.05.49-1.49 1.48-1.5h37.2c2.59 0 2.64 0 2.64-2.64v-35.88c0-2.8 0-2.81 2.84-2.8l25.11.12v67.65c0 1.29-.25 1.55-1.55 1.55q-33.78-.11-67.6-.07z"></path></svg>',"heart-filled":'<svg type="heart-filled" xmlns="http://www.w3.org/2000/svg" viewBox="-20 -20 230 220" class="fill"><path d="M.95 66.82a86.23 86.23 0 0 1 0-25.54C4.3 19.34 20.85 3.57 43.01.72a76.42 76.42 0 0 1 21 0A51.09 51.09 0 0 1 93.28 16.4c2.61 2.73 5 2.73 7.6 0A51.09 51.09 0 0 1 130.13.73a77.6 77.6 0 0 1 21 0c37.7 4.67 51.3 44.65 37.75 77.62-4.44 10.97-11.24 20.61-18.77 29.61-20.7 24.91-46.78 44.3-69.31 67.34-3.63 3.71-6.05 1.28-8.77-1.25-13.7-12.76-27.59-25.35-41.18-38.24C29.9 115.96 5.36 96.51.95 66.82z"></path></svg>',heart:'<svg type="heart" xmlns="http://www.w3.org/2000/svg" viewBox="-20 -20 230 220"><path d="M.95 66.82a86.23 86.23 0 0 1 0-25.54C4.3 19.34 20.85 3.57 43.01.72a76.42 76.42 0 0 1 21 0A51.09 51.09 0 0 1 93.28 16.4c2.61 2.73 5 2.73 7.6 0A51.09 51.09 0 0 1 130.13.73a77.6 77.6 0 0 1 21 0c37.7 4.67 51.3 44.65 37.75 77.62-4.44 10.97-11.24 20.61-18.77 29.61-20.7 24.91-46.78 44.3-69.31 67.34-3.63 3.71-6.05 1.28-8.77-1.25-13.7-12.76-27.59-25.35-41.18-38.24C29.9 115.96 5.36 96.51.95 66.82z"></path></svg>',image:'<svg type="image" class="filled-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 196.61 141"><path d="M186.61,29.67H14a12,12,0,0,0-12,12v117a12,12,0,0,0,12,12H186.61a12,12,0,0,0,12-12v-117A12,12,0,0,0,186.61,29.67ZM54.5,59.33A14.83,14.83,0,1,1,39.67,74.17,14.83,14.83,0,0,1,54.5,59.33ZM180.33,156H17.67l8.67-16.48,18-4.94,17.33-22.53,28.67,13.74,53.33-51.64,36.67,30.49Z" transform="translate(-2 -29.67)"/></svg>',minus:'<svg type="minus" class="filled-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35"><path d="M0,0V35H35V0ZM30,22H5V13H30Z"></path></svg>',next:'<svg type="next" class="filled-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 166.3 166.3"><path d="M137.1,83.1c0-1.5-3.5-4.9-3.5-4.9L112.4,57L56.8,1.5c-2-2-5.1-2-7.1,0L30.7,20.5c-2,2-2,5.1,0,7.1l55.5,55.5l-55.5,55.5 c-2,2-2,5.1,0,7.1l19.1,19.1c2,2,5.1,2,7.1,0l55.5-55.5l21.5-21.5C133.8,87.8,137.1,84.5,137.1,83.1z"/></svg>',plus:'<svg type="plus" class="filled-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35"><path d="M0,0V35H35V0ZM30,22H22v8H13V22H5V13h8V5h9v8h8Z"></path></svg>',previous:'<svg type="previous" class="filled-svg" style="transform:rotate(180deg);" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 166.3 166.3"><path d="M137.1,83.1c0-1.5-3.5-4.9-3.5-4.9L112.4,57L56.8,1.5c-2-2-5.1-2-7.1,0L30.7,20.5c-2,2-2,5.1,0,7.1l55.5,55.5l-55.5,55.5 c-2,2-2,5.1,0,7.1l19.1,19.1c2,2,5.1,2,7.1,0l55.5-55.5l21.5-21.5C133.8,87.8,137.1,84.5,137.1,83.1z"/></svg>',search:'<svg type="search" class="filled-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 1000 1000"><g><path d="M932.8,850l-201-201c56.4-67.6,90.3-154.5,90.3-249.5C822.2,184.2,647.9,10,432.7,10C217.4,10,43.2,184.2,43.2,399.5C43.2,614.7,217.4,789,432.7,789c61.1,0,119-14.1,170.5-39.1c3,4.7,6.6,9.1,10.7,13.2l203,203c32,32,84,32,116,0C964.8,934,964.8,882,932.8,850z M125.2,399.5C125.2,229.7,262.9,92,432.7,92s307.5,137.7,307.5,307.5c0,169.8-137.8,307.5-307.5,307.5C262.9,707,125.2,569.3,125.2,399.5z"/></g></svg>',share:'<svg type="share" class="filled-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 181 197"><path d="M140.4,127c-8.7,0-16.6,3.6-22.2,9.4l-50.3-27c2.9-7.3,2.8-15,0.3-21.9l49.1-28.4c10.4,13.7,30,16.4,43.7,6 c13.7-10.4,16.4-30,6-43.7C161.1,13.6,152,9,142.2,9C125,9,111,23,111,40.3c0,1.6,0.1,3.2,0.4,4.7L59.8,74.9 c-2.7-2.5-5.9-4.5-9.6-5.9c-16-6.3-34.1,1.6-40.4,17.7c-3.6,9.1-2.7,19.4,2.4,27.7h0c9,14.7,28.3,19.3,42.9,10.3 c1.4-0.8,2.6-1.8,3.9-2.8l51.6,27.7c-0.7,2.7-1.2,5.5-1.2,8.4c0,8.5,3.4,16.2,9,21.7c6.7,6.8,16.3,10.5,26.5,9.2 c9.7-1.3,18.2-7.1,23-15.6h0c1.7-3,2.4-5.9,2.5-8.7c0.5-2.2,0.7-4.4,0.7-6.7C171.3,140.8,157.4,127,140.4,127z"></path></svg>',twitter:'<span class="svg-bg""></span><svg type="twitter" class="filled-svg" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 36 36"><g><path d="M18,0C8.1,0,0,8.1,0,18c0,9.9,8.1,18,18,18s18-8.1,18-18C36,8.1,27.9,0,18,0z M22.8,28.5c-0.7,0-4.8-0.1-5.9-0.1c-1,0-6.5-1.7-6.5-7.7c0-1.1,0-2.1,0-3.2c0-1,0-2,0-3c0-0.3,0-0.6,0-0.9c0-1.5-0.1-3.2,0.4-4.7c0.4-1.1,1.3-1.6,2.3-1.6c2.6,0,2.8,2.7,2.8,5.4h7.6c1.2,0,2.1,1.2,2.1,3.1c0,1.9-1.9,2.3-3,2.3h-6.8c0,1.1-0.1,2.1-0.1,2.6c0,1.2,0.5,2.5,3.4,2.5h4.1c1,0,2.5,0.8,2.5,2.9C25.7,28.3,23.6,28.5,22.8,28.5z"/></g></svg>',up:'<svg type="up" class="filled-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 166.3 166.3"><path transform="rotate(-90, 83, 83)" d="M137.1,83.1c0-1.5-3.5-4.9-3.5-4.9L112.4,57L56.8,1.5c-2-2-5.1-2-7.1,0L30.7,20.5c-2,2-2,5.1,0,7.1l55.5,55.5l-55.5,55.5 c-2,2-2,5.1,0,7.1l19.1,19.1c2,2,5.1,2,7.1,0l55.5-55.5l21.5-21.5C133.8,87.8,137.1,84.5,137.1,83.1z"/></svg>',upload:'<svg type="upload" class="filled-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000"><g><path d="M800.1,420.4c-28.6-140.9-151.1-247-300.1-247c-118.4,0-220.5,67.4-271.5,165.4C106,351,10,455.1,10,581.7c0,134.7,110.2,245,245,245h530.8c112.3,0,204.2-91.9,204.2-204.2C990,514.3,906.3,426.5,800.1,420.4z M565.3,540.8V696H434.7V540.8H295.8L500,336.7l204.2,204.2H565.3z"/></g></svg>',vr:'<svg type="vr" class="filled-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192.67 115.59"><path id="ab1411b6-2959-43b4-84ec-5dd51f0958e3" data-name="VR-Icon.svg" class="a1408e72-2ac4-42c0-af79-d05768ae3026" d="M99.33,42.81c-67.45,0-96.33,58-96.33,58S31.89,158.4,99.33,158.4s96.33-57.62,96.33-57.62S166.76,42.81,99.33,42.81Zm-.18,112.68a54.89,54.89,0,1,1,54.73-55c0,.05,0,.1,0,.16a54.8,54.8,0,0,1-54.72,54.89h0Zm41.4-56.86V84.3a8.71,8.71,0,0,0-9.16-8.16h-33L84.37,112.25,69.74,76.13h-12L78.5,125.08H89.44L105.85,84.8H127a2.65,2.65,0,0,1,2.75,2.51v8.37A2.58,2.58,0,0,1,127,98.12H109L128.31,125H139.8l-13.26-18.22H132A8.19,8.19,0,0,0,140.54,99Q140.55,98.82,140.55,98.63Z" transform="translate(-3 -42.81)"></path></svg>',weibo:'<span class="svg-bg""></span><svg type="weibo" class="filled-svg" version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512"><g><path class="st0" d="M256.2,0C114.9,0,0.4,114.5,0.4,255.8s114.5,255.8,255.8,255.8S512,397.1,512,255.8S397.5,0,256.2,0z M226.9,395.4c-65.6,0-132.6-35.6-132.6-88.8c0-27.8,17.3-60,47.2-90.4c39.9-40.5,86.3-59,103.7-41.2c7.7,7.8,8.4,21.4,3.5,37.6c-2.6,8.2,7.6,3.6,7.6,3.7c32.2-13.8,60.2-14.5,70.5,0.4c5.5,7.9,5,19.1-0.1,32c-2.4,6,0.7,6.8,5.2,8.2c18.1,5.7,38.4,19.6,38.4,44C370.1,341.2,312.8,395.4,226.9,395.4z M363.1,225.4c-6.1,1.2-12.2-2.7-13.4-8.8c-3.4-16.5-16.4-29.4-32.8-32.8c-6.1-1.2-10.1-7.3-8.8-13.4c1.2-6.1,7.3-10.1,13.4-8.8c25.3,5.2,45.3,25.2,50.5,50.5C373.3,218.1,369.3,224,363.1,225.4z M417.1,213.6c0,6.3-5.1,11.3-11.3,11.3c-6.2,0-11.3-5.1-11.3-11.3c0-41.2-33.4-74.6-74.6-74.6c-6.3,0-11.3-5.1-11.3-11.3c0-6.3,5.1-11.3,11.3-11.3C373.5,116.2,417.1,159.8,417.1,213.6L417.1,213.6z"/><path class="st0" d="M214.7,246.4c-52.3,5.2-92,37.4-88.7,72c3.4,34.5,48.6,58.4,101,53.1s92-37.4,88.7-72C312.3,265,267.1,241.1,214.7,246.4z M213,343.8c-21.1,4.2-41.1-6.6-44.6-24.1c-3.5-17.5,10.7-35.3,31.8-39.5c21.1-4.2,41.1,6.6,44.6,24.1C248.4,321.9,234.1,339.6,213,343.8z"/></g></svg>'},this.update()}return s(e,[{key:"update",value:function(){this.el&&(this.el.innerHTML='<span class="svg-icon"><span class="svg-icon-inner">'.concat(this.templates[o.getModel(this.el,"type")],"</span></span>"))}}]),e}();o.registerComponent("e1-icon",r),e.exports=r},function(e,t){},function(e,t,n){n(55),n(62)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=n(56),c=n(2),l=function(){function e(t){i(this,e),this.el=t,this.update=this.update,this.throttle=null,this.el.innerHTML='<span class="image-renderer"></span>',this.el.renderer=!1,this.update()}return s(e,[{key:"update",value:function(){var e=this;clearTimeout(this.throttle),this.throttle=setTimeout(function(){e.el.renderer&&e.el.renderer.destroy();var t={url:o.getModel(e.el,"url"),preview:o.getModel(e.el,"preview"),type:o.getModel(e.el,"type"),crop:o.getModel(e.el,"crop"),element:e.el.querySelector(".image-renderer")};if(t.url){e.el.renderer=new r(t),e.el.takeScreenshot=function(){return e.el.renderer.data.cropper.takeScreenshot()},e.el.downloadScreenshot=function(){return e.el.renderer.data.cropper.downloadScreenshot()},e.el.download=function(){return e.el.renderer.download()};var n=!1;e.el.renderer.subscribe("statsUpdate",function(t){if(t.ready&&!n){if(e.el.onready&&"function"==typeof e.el.onready&&e.el.onready(),!e.el.imageready&&e.el.getAttribute("imageready")){c.createContext();try{return c.runInNewContext(e.el.getAttribute("imageready"))}catch(e){}}n=!0;if(/iPad|iPhone|iPod/.test(window.navigator.userAgent)){var i=e.el.querySelector("canvas").parentNode;if(i){i.requestFullscreen=function(){e.el.classList.add("fake-fullscreen")};var a=window.document.webkitExitFullscreen;window.document.exitFullscreen=function(){e.el.classList.remove("fake-fullscreen"),a&&"function"==typeof a&&a()}}}}})}},10)}}]),e}();o.registerComponent("e1-image-viewer",l)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}window.HTMLCanvasElement.prototype.toBlob||Object.defineProperty(window.HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var i=this;setTimeout(function(){for(var a=window.atob(i.toDataURL(t,n).split(",")[1]),s=a.length,o=new Uint8Array(s),r=0;r<s;r++)o[r]=a.charCodeAt(r);e(new window.Blob([o],{type:t||"image/png"}))})}}),function(){var t=n(1),a=n(57),o=n(58),r=n(60),c=function(){function e(n){var s=this;i(this,e);var c=this,l=function(e){c.keyDown(c,e)},u=function(){c.isFullscreen()&&c.exitFullscreen()};this.destroy=function(){window.removeEventListener("keydown",l,!1),window.document.removeEventListener("webkitfullscreenchange",u,!1),window.document.removeEventListener("mozfullscreenchange",u,!1),window.document.removeEventListener("fullscreenchange",u,!1),window.document.removeEventListener("MSFullscreenChange",u,!1),s.renderer&&s.renderer.destroy()},this.destroy(),this.data=n,this.data.instance=this,this.stats={},this.subscriptions={},this.utils=t,this.showControls=!this.data.crop,this.fullscreen=!1,this.data.type&&-1!==this.data.type.indexOf("360")?this.renderer=new o(this.data):this.renderer=new a(this.data),this.data.crop&&(this.data.cropper=new r(this.data)),window.addEventListener("keydown",l,!1),window.document.addEventListener("webkitfullscreenchange",u,!1),window.document.addEventListener("mozfullscreenchange",u,!1),window.document.addEventListener("fullscreenchange",u,!1),window.document.addEventListener("MSFullscreenChange",u,!1)}return s(e,[{key:"download",value:function(){this.data.element.querySelector("canvas").toBlob(function(e){var t=window.document.createElement("a");t.download=!0,t.href=window.URL.createObjectURL(e),t.click()})}},{key:"isFullscreen",value:function(){return this.fullscreen}},{key:"exitFullscreen",value:function(){this.data.element.parentNode.classList.remove("fullscreen"),window.document.exitFullscreen?window.document.exitFullscreen():window.document.webkitExitFullscreen?window.document.webkitExitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen&&window.document.msExitFullscreen()}},{key:"enterFullscreen",value:function(){var e=this.data.element;e.parentNode.classList.add("fullscreen"),e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},{key:"toggleFullscreen",value:function(){this.isFullscreen()?this.exitFullscreen():this.enterFullscreen(),this.fullscreen=!this.fullscreen}},{key:"keyDown",value:function(e,t){"escape"!==t.key.toLowerCase()&&"esc"!==t.key.toLowerCase()&&27!==t.keyCode||e.exitFullscreen()}},{key:"subscribe",value:function(e,t){this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(t)}},{key:"trigger",value:function(e,t){if(this.subscriptions[e])for(var n=0;n<this.subscriptions[e].length;n++)this.subscriptions[e][n](t)}},{key:"updateZoomHandle",value:function(e){var t=this.data.element.querySelector(".zoom-range-handle");if(t){var n=this.stats.maxZoom-this.stats.minZoom,i=this.stats.z-this.stats.minZoom,a=i/n;t.style.bottom=(e?100-100*a:100*a)+"%"}}},{key:"createControls",value:function(e){var t,n=this,i=function(){if(n.fullscreen=!n.fullscreen,!n.fullscreen){n.data.element.classList.remove("fullscreen"),e.onExitFullscreen&&e.onExitFullscreen(e.self)}},a=/iPad|iPhone|iPod|Android/.test(window.navigator.userAgent),s=this.data.element.querySelectorAll(".buttonWrapper");if(s&&s.length)for(var o=0;o<s.length;o++)s[o].parentNode.removeChild(s[o]);s=window.document.createElement("div"),s.classList.add("buttonWrapper"),this.data.element.appendChild(s);var r=e.vr,c=e.fullscreen,l=e.zoom,u=e.self,d=function(e){e.preventDefault(),e.stopPropagation(),t.classList.add("active");var n=0,i=e.clientY,a=function(e){e.preventDefault(),e.stopPropagation(),n=-(e.clientY-i),l(n/20,u),i=e.clientY},s=function e(){t.classList.remove("active"),window.document.removeEventListener("mousemove",a,!1),window.document.removeEventListener("mouseup",e,!1)};window.document.addEventListener("mousemove",a,!1),window.document.addEventListener("mouseup",s,!1)};if(r){var h=window.document.createElement("button");h.innerHTML='<e1-icon type="cardboard"></e1-icon>',h.addEventListener("click",function(){r(e.self)},!1),s.appendChild(h)}if(c){window.document.removeEventListener("webkitfullscreenchange",i,!1),window.document.removeEventListener("mozfullscreenchange",i,!1),window.document.removeEventListener("fullscreenchange",i,!1),window.document.removeEventListener("MSFullscreenChange",i,!1);var p=window.document.createElement("button");p.className="fullscreen-button",p.innerHTML='<e1-icon type="fullscreen"></e1-icon>',p.addEventListener("click",c.bind(e.self),!1),s.appendChild(p),window.document.addEventListener("webkitfullscreenchange",i,!1),window.document.addEventListener("mozfullscreenchange",i,!1),window.document.addEventListener("fullscreenchange",i,!1),window.document.addEventListener("MSFullscreenChange",i,!1)}if(l){t=window.document.createElement("div"),t.className=a?"zoom-controls mobile":"zoom-controls";var v=window.document.createElement("button");v.className="zoom-plus",v.innerHTML='<e1-icon type="plus"></e1-icon>',v.addEventListener("click",function(){l(1,e.self)},!1);var f=window.document.createElement("button");f.className="zoom-minus",f.innerHTML='<e1-icon type="minus"></e1-icon>',f.addEventListener("click",function(){l(-1,e.self)},!1);var g=window.document.createElement("div");g.className="zoom-range",g.addEventListener("mousedown",d.bind(this),!1);var m=window.document.createElement("div");m.className="zoom-range-handle",m.addEventListener("mousedown",d.bind(this),!1),g.appendChild(m),t.appendChild(v),t.appendChild(g),t.appendChild(f),s.appendChild(t)}}}]),e}();e.exports=c,window.ImageRenderer=c}()},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}!function(){var t=n(1),a=function(){function e(n){var a=this;i(this,e);var s=this,o=function(){s.setTransforms()};this.destroy=function(){window.removeEventListener("resize",o,!1),a.canvasWrapper&&(a.canvasWrapper.innerHTML="")},this.destroy(),this.data=n,this.canDoVR=!1,this.is3D=n.type&&n.type.toLowerCase().indexOf("stereo")>-1,this.isMobile=/iPad|iPhone|iPod|Android/.test(window.navigator.userAgent),this.cache={},this.cacheSize=this.isMobile?4e3:6e3,this.cacheId=0,this.previousCache=null,this.originalImage={},this.activeCache=null,this.image=null,this.zoomMin=null,this.zoomMax=1,this.zoomQueue=[],this.zoom=null,this.translateX=0,this.translateY=0,this.canvas=null,this.canvasWrapper=n.element,this.canvasWrapper.innerHTML="",this.hasLoadedControls=!1,this.controlOptions={},this.resize=this.setTransforms,this.reset=function(){a.setCanvasImage(a.cache),a.zoomMin=a.getMinZoom(a.cache.width,a.cache.height),a.zoomMax=a.getMaxZoom(),a.zoom=a.zoomMin,a.setTransforms()},t.canDoVr().then(function(e){a.canDoVr=e,a.controlOptions={fullscreen:a.toggleFullscreen,onExitFullscreen:a.onExitFullscreen,zoom:a.doZoom,self:a},a.is3D&&a.canDoVR&&(a.controlOptions.vr=a.toggleVr),a.run(),window.addEventListener("resize",o,!1)})}return s(e,[{key:"setImage",value:function(e,t){this.image=e,this.is3D&&(this.originalImage=this.setCache(!0)),this.activeCache=this.cache=this.setCache(),this.setCanvasImage(this.cache),this.zoomMin=this.getMinZoom(this.cache.width,this.cache.height),this.zoomMax=this.getMaxZoom(),this.zoom||(this.zoom=this.zoomMin),this.setTransforms(),!this.hasLoadedControls&&this.data.instance.showControls&&(this.data.instance.createControls(this.controlOptions),this.hasLoadedControls=!0),this.sendUpdate(t)}},{key:"doZoom",value:function(e,t){e/=4;for(var n=8;n--;)t.zoomQueue.push(e/8);!function e(){window.requestAnimationFrame(function(){t.zoomQueue.length&&(t.setZoom(t.zoomQueue.shift()),t.setTransforms(),e())})}()}},{key:"toggleVr",value:function(){this.is3D&&this.canDoVR&&(this.data.instance.isFullscreen()?(this.activeCache=this.cache,this.setCanvasImage(this.cache),this.zoomMin=this.getMinZoom(this.cache.width,this.cache.height)):(this.activeCache=this.originalImage,this.setCanvasImage(this.originalImage),this.zoomMin=this.getMinZoom(this.originalImage.width,this.originalImage.height)),this.zoomMax=this.getMaxZoom(),this.zoom=this.zoomMin,this.setZoom(0),this.setTransforms(),this.sendUpdate()),this.data.instance.toggleFullscreen()}},{key:"onExitFullscreen",value:function(e){setTimeout(function(){e.zoom=e.zoomMin,e.setTransforms()},200)}},{key:"toggleFullscreen",value:function(){var e=this;this.data.instance.toggleFullscreen(),setTimeout(function(){e.setTransforms()},200)}},{key:"setCanvasImage",value:function(e){this.previousCache&&e.id===this.previousCache.id||(this.canvas.width=e.width,this.canvas.height=e.height,this.canvas.getContext("2d").drawImage(e.canvas,0,0),this.previousCache=e)}},{key:"setCache",value:function(e){return{id:this.cacheId++,canvas:this.proxyImg(this.cacheSize,e),width:this.cacheSize,height:this.image.height*(this.cacheSize/this.image.width)}}},{key:"getMinZoom",value:function(e,t){return Math.min(this.canvasWrapper.offsetWidth/e,this.canvasWrapper.offsetHeight/t)}},{key:"getMaxZoom",value:function(){return Math.min(this.canvasWrapper.offsetWidth/this.activeCache.width,this.canvasWrapper.offsetHeight/this.activeCache.height)*("Super resolution"===this.data.type?10:5)}},{key:"proxyImg",value:function(e,t){this.is3D&&!t&&(this.image.width=this.image.width/2);var n=this.image.height*(e/this.image.width),i=window.document.createElement("canvas").getContext("2d");return i.canvas.width=e,i.canvas.height=n,i.drawImage(this.image,0,0,this.image.width,this.image.height,0,0,e,n),i.canvas}},{key:"setTransforms",value:function(){this.canvas.style.left=-(this.activeCache.width-this.canvasWrapper.offsetWidth)/2+"px",this.canvas.style.top=-(this.activeCache.height-this.canvasWrapper.offsetHeight)/2+"px",this.setBounds(),this.canvas.style.transform="scale("+this.zoom+") translateX("+this.translateX+"px)translateY("+this.translateY+"px)translateZ(0px)",this.sendUpdate()}},{key:"sendUpdate",value:function(e){this.data.instance.stats.x=this.translateX,this.data.instance.stats.y=this.translateY,this.data.instance.stats.z=this.zoom,this.data.instance.stats.cropZ=this.zoom,this.data.instance.stats.viewWidth=this.canvasWrapper.offsetWidth*window.devicePixelRatio,this.data.instance.stats.viewHeight=this.canvasWrapper.offsetHeight*window.devicePixelRatio,this.data.instance.stats.renderWidth=Math.round(Math.min(this.cache.width*this.zoom,this.canvasWrapper.offsetWidth))*window.devicePixelRatio,this.data.instance.stats.renderHeight=Math.round(Math.min(this.cache.height*this.zoom,this.canvasWrapper.offsetHeight))*window.devicePixelRatio,this.data.instance.stats.status="drawing",this.data.instance.stats.minZoom=this.zoomMin,this.data.instance.stats.maxZoom=this.zoomMax,this.data.instance.stats.type="flat",this.data.instance.stats.canvas=this.canvas,e&&(this.data.instance.stats.ready=1),this.data.instance.updateZoomHandle(),this.data.instance.trigger("statsUpdate",this.data.instance.stats)}},{key:"setZoom",value:function(e){var t=this.zoom+e,n=(t-this.zoomMin)/(this.zoomMax-this.zoomMin);this.zoomMin=this.getMinZoom(this.activeCache.width,this.activeCache.height),this.zoomMax=this.getMaxZoom(),t=(this.zoomMax-this.zoomMin)*n+this.zoomMin,t<this.zoomMin&&(t=this.zoomMin),t>this.zoomMax&&(t=this.zoomMax),this.zoom=t}},{key:"mouseDown",value:function(e){var t=this;e.preventDefault();var n=this,i=this.canvas.getBoundingClientRect(),a=(e.pageX||e.targetTouches[0].pageX)-i.left,s=(e.pageY||e.targetTouches[0].pageY)-i.top,o=function(e){i=t.canvas.getBoundingClientRect();var o=(e.pageX||e.targetTouches[0].pageX)-i.left-a,r=(e.pageY||e.targetTouches[0].pageY)-i.top-s;n.translateX=n.translateX+o,n.translateY=n.translateY+r,n.setTransforms()},r=function e(){n.canvas.removeEventListener("mousemove",o,!1),window.document.body.removeEventListener("mouseleave",e,!1),window.document.body.removeEventListener("mouseup",e,!1),n.canvas.removeEventListener("touchmove",o,!1),window.document.body.removeEventListener("touchend",e,!1),window.document.body.removeEventListener("touchcancel",e,!1)};n.canvas.addEventListener("mousemove",o,!1),window.document.body.addEventListener("mouseleave",r,!1),window.document.body.addEventListener("mouseup",r,!1),n.canvas.addEventListener("touchmove",o,!1),window.document.body.addEventListener("touchend",r,!1),window.document.body.addEventListener("touchcancel",r,!1)}},{key:"setBounds",value:function(){this.setZoom(0);var e=(this.activeCache.width-this.canvasWrapper.offsetWidth/this.zoom)/2,t=-e,n=(this.activeCache.height-this.canvasWrapper.offsetHeight/this.zoom)/2,i=-n;this.translateX>e&&(this.translateX=e),this.translateX<t&&(this.translateX=t),this.translateY>n&&(this.translateY=n),this.translateY<i&&(this.translateY=i);var a=this.activeCache.height*this.zoom;a<this.canvasWrapper.offsetHeight&&(this.translateY=this.translateY-(this.canvasWrapper.offsetHeight-a)/2/this.zoom);var s=this.activeCache.width*this.zoom;s<this.canvasWrapper.offsetWidth&&(this.translateX=this.translateX-(this.canvasWrapper.offsetWidth-s)/2/this.zoom),this.translateX=Math.round(100*this.translateX)/100,this.translateY=Math.round(100*this.translateY)/100}},{key:"run",value:function(){var e=this;this.canvas=window.document.createElement("canvas"),this.canvas.style.position="relative",this.canvasWrapper.appendChild(this.canvas),this.canvasWrapper.classList.add("flat-render"),this.canvasWrapper.parentNode.style.paddingTop="5px;",t.initImages(this.data,function(t){e.originalImage=t,e.canvasWrapper.parentNode.style.display="block",e.canvasWrapper.parentNode.style.height="0px",e.canvasWrapper.parentNode.style.width="100%",e.canvasWrapper.parentNode.style.paddingTop=t.height/(e.is3D?t.width/2:t.width)*100+"%",e.setImage(t,!0)},function(t){e.canvasWrapper.parentNode.style.display="block",e.canvasWrapper.parentNode.style.height="0px",e.canvasWrapper.parentNode.style.width="100%",e.canvasWrapper.parentNode.style.paddingTop=t.height/(e.is3D?t.width/2:t.width)*100+"%",e.setImage(t)},this.reject),this.canvas.addEventListener("mousedown",this.mouseDown.bind(this),!1),this.canvas.addEventListener("touchstart",this.mouseDown.bind(this),!1),this.data.instance.subscribe("resize",this.setTransforms.bind(this)),this.data.instance.subscribe("reset",function(){e.zoom=e.zoomMin=e.getMinZoom(e.cache.width,e.cache.height),e.setTransforms()})}}]),e}();e.exports=a}()},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}!function(){var t=n(1),a=n(59),o=function(){function e(n){var s=this;i(this,e);var o=this,r=function(e){s._resize(o,e)},c=function(e){s.onDocumentMouseUp(o,e)},l=function(e){s.onDocumentMouseDown(o,e)},u=function(e){s.onDocumentMouseMove(o,e)};this.destroy=function(){window.cancelAnimationFrame(s.animationFrame),window.document.removeEventListener("mouseup",c,!1),window.document.removeEventListener("mousemove",u,!1),window.removeEventListener("resize",r,!0),s.canvasWrapper&&(s.canvasWrapper.removeEventListener("mousedown",l,!1),s.canvasWrapper.innerHTML="")},this.destroy(),this.data=n,this.canDoVr=!1,this.is3D=n.type.toLowerCase().indexOf("stereo")>-1,this.zoomQueue=[],this.minZoom=5,this.maxZoom=50,this.zoom=40,this.distance=50,this.ready=!1,this.lon=270,this.lat=0,this.phi=0,this.theta=0,this.renderer=null,this.scene=null,this.camera=null,this.texture=null,this.material=null,this.isUserInteracting=null,this.originalImage=null,this.ctxTop=window.document.createElement("canvas").getContext("2d"),this.onPointerDownPointerX=0,this.onPointerDownPointerY=0,this.onPointerDownLon=0,this.onPointerDownLat=0,this.animationFrame=null,this.canvasWrapper=this.data.element,this.hasLoadedControls=!1,this.resize=r,this.reset=r,t.canDoVr().then(function(e){if(s.canDoVr=e,s.canDoVr)return void(s.data.instance.renderer=new a(s.data));s.run(),window.document.addEventListener("mouseup",c,!1),window.addEventListener("resize",r,!0),s.canvasWrapper.addEventListener("mousedown",l,!1),window.document.addEventListener("mousemove",u,!1)})}return s(e,[{key:"onDocumentMouseDown",value:function(e,t){t.preventDefault(),e.isUserInteracting=!0,e.onPointerDownPointerX=t.clientX,e.onPointerDownPointerY=t.clientY,e.onPointerDownLon=e.lon,e.onPointerDownLat=e.lat}},{key:"onDocumentMouseMove",value:function(e,t){!0===e.isUserInteracting&&(e.lon=.1*(e.onPointerDownPointerX-t.clientX)+e.onPointerDownLon,e.lat=.1*(e.onPointerDownPointerY-t.clientY)+e.onPointerDownLat)}},{key:"onDocumentMouseUp",value:function(e){e.isUserInteracting=!1}},{key:"_resize",value:function(e){e.data.instance.isFullscreen()?e.canvasWrapper.parentNode.classList.add("fullscreen"):e.canvasWrapper.parentNode.classList.remove("fullscreen"),e.renderer&&(e.renderer.setSize(e.canvasWrapper.offsetWidth,e.canvasWrapper.offsetHeight),e.camera.aspect=e.renderer.domElement.clientWidth/e.renderer.domElement.clientHeight,e.camera.updateProjectionMatrix())}},{key:"setImages",value:function(e){return this.is3D&&(this.ctxTop.canvas.width=e.width,this.ctxTop.canvas.height=e.height/2,this.ctxTop.drawImage(e,0,0),e=this.ctxTop.canvas),e}},{key:"sendUpdate",value:function(){this.data.instance.stats.ready===this.ready&&this.data.instance.stats.x===this.lon&&this.data.instance.stats.y===this.lat&&this.data.instance.stats.z===this.distance&&this.data.instance.stats.viewWidth===this.canvasWrapper.offsetWidth*window.devicePixelRatio&&this.data.instance.stats.viewHeight===this.canvasWrapper.offsetHeight*window.devicePixelRatio||(this.data.instance.stats.ready=this.ready,this.data.instance.stats.x=this.lon,this.data.instance.stats.y=this.lat,this.data.instance.stats.z=this.distance,this.data.instance.stats.viewWidth=this.data.instance.stats.renderWidth=this.canvasWrapper.offsetWidth*window.devicePixelRatio,this.data.instance.stats.viewHeight=this.data.instance.stats.renderHeight=this.canvasWrapper.offsetHeight*window.devicePixelRatio,this.data.instance.stats.status="drawing",this.data.instance.stats.minZoom=this.minZoom,this.data.instance.stats.maxZoom=this.maxZoom,this.data.instance.stats.type="360",this.data.instance.stats.canvas=this.renderer.domElement,this.data.instance.stats.originalImage=this.originalImage,this.data.instance.updateZoomHandle(!0),this.data.instance.trigger("statsUpdate",this.data.instance.stats))}},{key:"draw",value:function(){this.lat=Math.max(-85,Math.min(85,this.lat)),this.phi=window.THREE.Math.degToRad(90-this.lat),this.theta=window.THREE.Math.degToRad(this.lon-180),this.camera.position.x=this.distance*Math.sin(this.phi)*Math.cos(this.theta),this.camera.position.y=this.distance*Math.cos(this.phi),this.camera.position.z=this.distance*Math.sin(this.phi)*Math.sin(this.theta),this.camera.lookAt(this.scene.position),this.renderer.render(this.scene,this.camera),this.sendUpdate()}},{key:"animate",value:function(){this.animationFrame=window.requestAnimationFrame(this.animate.bind(this)),this.draw()}},{key:"fullscreen",value:function(e){var t=this;this.data.instance.toggleFullscreen(e),setTimeout(function(){t._resize(t)},200)}},{key:"onExitFullscreen",value:function(e){setTimeout(function(){e._resize(e)},200)}},{key:"doZoom",value:function(e,t){var n=11;for(e=1.5*-e;n--;)t.zoomQueue.push(e);!function e(){window.requestAnimationFrame(function(){if(t.zoomQueue.length){var n=t.zoomQueue.shift();t.distance=t.distance+n,t.distance<t.minZoom&&(t.distance=t.minZoom),t.distance>t.maxZoom&&(t.distance=t.maxZoom),e()}})}()}},{key:"finish",value:function(e,t){var n=this.setImages(e);if(this.texture.image=n,this.texture.needsUpdate=!0,this.draw(),!this.hasLoadedControls&&this.data.instance.showControls){var i={fullscreen:this.fullscreen,onExitFullscreen:this.onExitFullscreen,zoom:this.doZoom,self:this};this.data.instance.createControls(i)}this.hasLoadedControls=!0,this._resize(this),t&&(this.ready=!0,this.sendUpdate())}},{key:"resolve",value:function(){}},{key:"reject",value:function(){}},{key:"run",value:function(){var e=this;this.renderer=new window.THREE.WebGLRenderer({antialiasing:!1,preserveDrawingBuffer:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.canvasWrapper.offsetWidth,this.canvasWrapper.offsetHeight),this.canvasWrapper.appendChild(this.renderer.domElement),this.renderer.domElement.preserveDrawingBuffer=!0,this.renderer.domElement.id="viewer-canvas",this.renderer.domElement.setAttribute("type","360"),this.scene=new window.THREE.Scene,this.camera=new window.THREE.PerspectiveCamera(this.zoom,this.canvasWrapper.offsetWidth/this.canvasWrapper.offsetHeight,1,2e3),this.camera.layers.enable(1),this.camera.target=new window.THREE.Vector3(0,0,0),this.camera.lookAt(this.camera.target),this.camera.aspect=this.renderer.domElement.clientWidth/this.renderer.domElement.clientHeight,this.camera.updateProjectionMatrix();var n=new window.THREE.SphereGeometry(100,100,40);n.applyMatrix((new window.THREE.Matrix4).makeScale(-1,1,1)),n.applyMatrix((new window.THREE.Matrix4).makeRotationY(-Math.PI/2)),this.texture=new window.THREE.Texture,this.texture.format=1022,this.material=new window.THREE.MeshBasicMaterial({transparent:!0,map:this.texture});var i=new window.THREE.Mesh(n,this.material);this.scene.add(i),this.animate(),this.canvasWrapper.parentNode.style.paddingTop="5px;",t.initImages(this.data,function(t){e.originalImage=t,e.canvasWrapper.parentNode.style.display="block",e.canvasWrapper.parentNode.style.height="0px",e.canvasWrapper.parentNode.style.width="100%",e.canvasWrapper.parentNode.style.paddingTop="56.25%",e.finish(t,!0),e.resolve()},function(t){e.canvasWrapper.parentNode.style.display="block",e.canvasWrapper.parentNode.style.height="0px",e.canvasWrapper.parentNode.style.width="100%",e.canvasWrapper.parentNode.style.paddingTop="56.25%",e.finish(t)},this.reject)}}]),e}();e.exports=o}()},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}!function(){var t=n(1),a=function(){function e(n){var a=this;i(this,e);var s=this,o=function(){s.positionCanvas(s)};this.destroy=function(){window.removeEventListener("resize",r,!1),window.removeEventListener("vrdisplaypresentchange",c,!1)};var r=function(){s.positionCanvas(s)},c=function(){s.presentChange(s)};this.destroy(),this.data=n,this.canDoVR=!1,this.is3D=n.type.toLowerCase().indexOf("stereo")>-1,this.canvasWrapper=n.element,this.glAttribs={antialias:!0},this.data.crop&&(this.glAttribs.preserveDrawingBuffer=!0),this.frameData=new window.VRFrameData,this.vrDisplay=null,this.vrSceneFrame=null,this.panorama=null,this.panorama2=null,this.viewMat=window.mat4.create(),this.canvas=window.document.createElement("canvas"),this.img1=null,this.img2=null,this.originalImage=null,this.ctxTop=window.document.createElement("canvas").getContext("2d"),this.ctxBottom=window.document.createElement("canvas").getContext("2d"),this.gl=this.canvas.getContext("webgl",this.glAttribs),this.isPresenting=!1,this.normalSceneFrame=null,this.resize=o,this.hasLoadedControls=!1,t.canDoVr().then(function(e){a.canDoVR=!!e,a.vrDisplay=e,a.run(),window.addEventListener("resize",r,!1),window.addEventListener("vrdisplaypresentchange",c,!1)})}return s(e,[{key:"present",value:function(e){e.vrDisplay.requestPresent([{source:e.canvas}]).then(function(){e.onPresent()})}},{key:"setImages",value:function(e){if(this.ctxTop.canvas.width=this.ctxBottom.canvas.width=4096,this.ctxTop.canvas.height=this.ctxBottom.canvas.height=2048,e.width>4096){var t=e.height*(4096/e.width),n=window.document.createElement("canvas").getContext("2d");n.canvas.width=4096,n.canvas.height=t,n.drawImage(e,0,0,e.width,e.height,0,0,4096,t),e=n.canvas}this.is3D||e.width===e.height?(this.ctxTop.drawImage(e,0,0,e.width,e.height/2,0,0,this.ctxTop.canvas.width,this.ctxTop.canvas.height),this.ctxBottom.drawImage(e,0,e.height/2,e.width,e.height/2,0,0,this.ctxBottom.canvas.width,this.ctxBottom.canvas.height),this.img1=this.ctxTop.canvas,this.img2=this.ctxBottom.canvas):(this.ctxTop.drawImage(e,0,0,e.width,e.height,0,0,this.ctxTop.canvas.width,this.ctxTop.canvas.height),this.img1=this.ctxTop.canvas,this.img2=this.ctxTop.canvas)}},{key:"getPoseMatrix",value:function(e,t){var n=t.orientation;n||(n=[0,0,0,1]),window.mat4.fromQuat(e,n),window.mat4.invert(e,e)}},{key:"sendUpdate",value:function(){this.data.instance.stats.ready===this.ready&&this.data.instance.stats.viewWidth===this.canvasWrapper.offsetWidth*window.devicePixelRatio&&this.data.instance.stats.viewHeight===this.canvasWrapper.offsetHeight*window.devicePixelRatio||(this.data.instance.stats.x=0,this.data.instance.stats.y=0,this.data.instance.stats.z=0,this.data.instance.stats.viewWidth=this.data.instance.stats.renderWidth=this.canvasWrapper.offsetWidth*window.devicePixelRatio,this.data.instance.stats.viewHeight=this.data.instance.stats.renderHeight=this.canvasWrapper.offsetHeight*window.devicePixelRatio,this.data.instance.stats.status="drawing",this.data.instance.stats.type="vr",this.data.instance.stats.canvas=this.canvas,this.data.instance.stats.originalImage=this.originalImage,this.data.instance.stats.ready=this.ready,this.data.instance.trigger("statsUpdate",this.data.instance.stats))}},{key:"drawVRScene",value:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT||this.gl.DEPTH_BUFFER_BIT),this.vrSceneFrame=this.vrDisplay.requestAnimationFrame(this.drawVRScene.bind(this)),this.vrDisplay.getFrameData(this.frameData),this.getPoseMatrix(this.viewMat,this.frameData.pose),this.gl.viewport(0,0,.5*this.canvas.width,this.canvas.height),this.panorama.render(this.frameData.leftProjectionMatrix,this.viewMat),this.gl.viewport(.5*this.canvas.width,0,.5*this.canvas.width,this.canvas.height),this.panorama2.render(this.frameData.rightProjectionMatrix,this.viewMat),this.vrDisplay.submitFrame(),this.sendUpdate()}},{key:"drawScene",value:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT||this.gl.DEPTH_BUFFER_BIT),this.normalSceneFrame=window.requestAnimationFrame(this.drawScene.bind(this)),this.vrDisplay.getFrameData(this.frameData),this.getPoseMatrix(this.viewMat,this.frameData.pose),this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.panorama.render(this.frameData.leftProjectionMatrix,this.viewMat),this.vrDisplay.submitFrame(),this.sendUpdate()}},{key:"onPresent",value:function(){var e=this;try{window.cancelAnimationFrame(this.normalSceneFrame)}catch(e){}var t=window.document.querySelector(".buttonWrapper");t&&t.parentElement.removeChild(t),this.canvasWrapper.parentNode.classList.add("fullscreen"),setTimeout(function(){e.isPresenting=!0,e.positionCanvas(e),e.panorama||(e.panorama=new window.VRPanorama(e.gl)),e.panorama.useImage(e.img1),e.panorama2||(e.panorama2=new window.VRPanorama(e.gl)),e.panorama2.useImage(e.img2),e.drawVRScene()},500)}},{key:"fullscreen",value:function(e){var t=this;this.data.instance.toggleFullscreen(e),setTimeout(function(){t.positionCanvas(t)},200)}},{key:"onNormalScene",value:function(){this.canvasWrapper.parentNode.classList.remove("fullscreen");try{this.vrDisplay.cancelAnimationFrame(this.vrSceneFrame)}catch(e){}return this.positionCanvas(this),this.panorama||(this.panorama=new window.VRPanorama(this.gl)),this.panorama.useImage(this.img1),this.panorama2||(this.panorama2=new window.VRPanorama(this.gl)),this.panorama2.useImage(this.img2),this.drawScene()}},{key:"presentChange",value:function(e){e.vrDisplay.isPresenting||(e.isPresenting=!1,e.run())}},{key:"positionCanvas",value:function(e){if(e.isPresenting){var t=e.vrDisplay.getEyeParameters("left"),n=e.vrDisplay.getEyeParameters("right");e.canvas.width=2*Math.max(t.renderWidth,n.renderWidth),e.canvas.height=Math.max(t.renderHeight,n.renderHeight),e.canvas.style.width="100%",e.canvas.style.height="100%",e.canvas.style.top="0px",e.canvas.style.left="0px"}else e.canvas.style.position="relative",e.canvas.width=Math.max(e.canvasWrapper.offsetWidth,e.canvasWrapper.offsetHeight)*window.devicePixelRatio,e.canvas.height=Math.max(e.canvasWrapper.offsetWidth,e.canvasWrapper.offsetHeight)*window.devicePixelRatio,e.canvas.style.width=e.canvas.width/window.devicePixelRatio+"px",e.canvas.style.height=e.canvas.height/window.devicePixelRatio+"px",e.canvas.style.top=(e.canvasWrapper.offsetHeight-e.canvas.height/window.devicePixelRatio)/2+"px",e.canvas.style.left=(e.canvasWrapper.offsetWidth-e.canvas.width/window.devicePixelRatio)/2+"px"}},{key:"reject",value:function(){}},{key:"onExitFullscreen",value:function(e){setTimeout(function(){e.positionCanvas(e)},200)}},{key:"run",value:function(){var e=this;if(this.canvasWrapper.appendChild(this.canvas),this.canvas.setAttribute("type","vr"),this.gl||(this.gl=this.canvas.getContext("experimental-webgl",this.glAttribs)),this.img1)return this.originalImage=this.img1,this.onNormalScene(),this.data.instance.createControls({fullscreen:this.fullscreen,onExitFullscreen:this.onExitFullscreen,vr:this.present,self:this}),this.hasLoadedControls=!0,this.ready=!0,void window.E1.scan(this.canvasWrapper);this.img1=new window.Image,this.img2=new window.Image,t.initImages(this.data,function(t){e.originalImage=t,e.setImages(t),e.canvasWrapper.parentNode.style.display="block",e.canvasWrapper.parentNode.style.height="0px",e.canvasWrapper.parentNode.style.width="100%",e.canvasWrapper.parentNode.style.paddingTop="56.25%",e.vrDisplay.isPresenting?e.onPresent():e.onNormalScene(),e.hasLoadedControls||(e.data.instance.createControls({vr:e.present,self:e}),e.hasLoadedControls=!0,e.ready=!0)},function(t){e.canvasWrapper.parentNode.style.display="block",e.canvasWrapper.parentNode.style.height="0px",e.canvasWrapper.parentNode.style.width="100%",e.canvasWrapper.parentNode.style.paddingTop="56.25%",e.setImages(t),e.onNormalScene()},this.reject)}}]),e}();e.exports=a}()},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}!function(){var t=function(){function e(t){i(this,e),this.element=t.element,this._data=t,this.data={mousemove:!1,positions:{y1:0,y2:0,x1:0,x2:0},elements:{}},this.container=null,this.onUpdateCallbacks=[],this.canvas=t.element.querySelector("canvas")||t.element.querySelector("img"),this.sizeWatcher=null,this.takeScreenshot=this.takeScreenshot,this.init()}return s(e,[{key:"init",value:function(){var e=this,t=/iPad|iPhone|iPod|Android/.test(window.navigator.userAgent);this.container=window.document.createElement("div"),this.container.id="crop-positioner",this.container.innerHTML=this.createHtml(),this.element.appendChild(this.container),this.data.elements={north:this.container.querySelector("#north-handle"),south:this.container.querySelector("#south-handle"),east:this.container.querySelector("#east-handle"),west:this.container.querySelector("#west-handle"),northeast:this.container.querySelector("#north-east-handle"),northwest:this.container.querySelector("#north-west-handle"),southeast:this.container.querySelector("#south-east-handle"),southwest:this.container.querySelector("#south-west-handle")};var n=this,i=function(e){if(e.preventDefault(),e.stopPropagation(),!n.data.mousemove){n.data.mousemove=!0;var i=e.path?e.path[0]:e.originalTarget?e.originalTarget:e.target,a=i.id,s=function(e){if(n.data.mousemove){e.stopPropagation(),e.preventDefault();var t=e.pageX,i=e.pageY;void 0===t&&(t=e.changedTouches[0].clientX),void 0===i&&(i=e.changedTouches[0].clientY);var s=n.container.getBoundingClientRect(),o=n.data.positions.x1,r=n.data.positions.x2,c=n.data.positions.y1,l=n.data.positions.y2,u=window.pageYOffset||window.document.documentElement.scrollTop,d=window.pageXOffset||window.document.documentElement.scrollLeft;(a.toString().indexOf("north")>-1||a.toString().indexOf("south")>-1)&&(a.toString().indexOf("north")>-1?c=i-(s.top+u)-10:l=i-(s.top+u)),(a.toString().indexOf("west")>-1||a.toString().indexOf("east")>-1)&&(a.toString().indexOf("west")>-1?o=t-(s.left+d)-10:r=t-(s.left+d)),n.setPositions(o,r,c,l)}},o=function e(){n.data.mousemove=!1,n.container.parentNode.removeEventListener("mousemove",s),n.container.parentNode.removeEventListener("mouseleave",e),window.document.removeEventListener("mouseup",e),window.document.removeEventListener("mouseleave",e)};t?n.container.ontouchmove=s:(n.container.parentNode.addEventListener("mousemove",s),n.container.parentNode.addEventListener("mouseleave",o),window.document.addEventListener("mouseup",o),window.document.addEventListener("mouseleave",o))}};for(var a in n.data.elements)n.data.elements[a]&&(t?n.container.ontouchstart=i:n.data.elements[a].addEventListener("mousedown",i,!1));this.position(this);var s=this.element.querySelector("#revealed-space"),o=function(e){if(e.preventDefault(),e.stopPropagation(),!n.data.mousemove){n.data.mousemove=!0;var i=e.x,a=e.y;void 0===i&&(i=e.changedTouches[0].clientX),void 0===a&&(a=e.changedTouches[0].clientY);var o=n.container.getBoundingClientRect(),r=i-n.data.elements.west.getBoundingClientRect().left+n.data.elements.west.offsetWidth/2.2,c=n.data.elements.east.getBoundingClientRect().left+n.data.elements.east.offsetWidth/2.2-i,l=a-n.data.elements.north.getBoundingClientRect().top+n.data.elements.north.offsetHeight/2.2,u=n.data.elements.south.getBoundingClientRect().top+n.data.elements.south.offsetHeight/2.2-a,d=function(e){if(e.preventDefault(),e.stopPropagation(),n.data.mousemove){var t=e.x,i=e.y;void 0===t&&(t=e.changedTouches[0].clientX),void 0===i&&(i=e.changedTouches[0].clientY),n.setPositions(t-o.left+n.data.elements.west.offsetWidth/2.2-r,t-o.left+n.data.elements.east.offsetWidth/2.2+c,i-o.top+n.data.elements.north.offsetHeight/2.2-l,i-o.top+n.data.elements.south.offsetHeight/2.2+u)}},h=function e(){n.data.mousemove=!1,s.removeEventListener("mousemove",d),window.document.removeEventListener("mouseup",e),window.document.removeEventListener("mouseleave",e)};t?n.container.ontouchmove=d:(s.addEventListener("mousemove",d),window.document.addEventListener("mouseup",h),window.document.addEventListener("mouseleave",h))}};t?(s.addEventListener("touchstart",o),window.document.addEventListener("touchend",function(){n.data.mousemove=!1,n.container.ontouchmove=function(){return!1}}),window.document.addEventListener("touchleave",function(){n.data.mousemove=!1,n.container.ontouchmove=function(){return!1}})):s.addEventListener("mousedown",o,!0);!function t(){var n=e._data.instance.stats;if(e.canvas=e._data.element.querySelector("canvas")||e._data.element.querySelector("img"),e.canvas&&n.ready){var i=e.canvas.getBoundingClientRect(),a=i.width/4,s=i.height/4;e.setPositions(a,a+a+a,s,s+s+s),e.container.classList.add("active");var o=e.container.parentNode.querySelector(".buttonWrapper");o&&(o.style.display="none")}else window.requestAnimationFrame(t)}()}},{key:"setPositions",value:function(e,t,n,i){var a=this;!function(){e<5&&(e=5),t>a.container.offsetWidth-5&&(t=a.container.offsetWidth-5),n<5&&(n=5),i>a.container.offsetHeight-5&&(i=a.container.offsetHeight-5)}(),t-e<200&&(t=e+200)>this.container.offsetWidth-5&&(t=this.container.offsetWidth-5,e=this.container.offsetWidth-5-200),i-n<200&&(i=n+200)>this.container.offsetHeight-5&&(i=this.container.offsetHeight-5,n=i-200>5?i-200:5),this.data.positions.x1=e,this.data.positions.x2=t,this.data.positions.y1=n,this.data.positions.y2=i,this.container.querySelector("#north-space").style.height=this.data.positions.y1/this.container.offsetHeight*100+"%",this.container.querySelector("#south-space").style.height=(this.container.offsetHeight-this.data.positions.y2)/this.container.offsetHeight*100+"%",this.container.querySelector("#west-space").style.width=this.data.positions.x1/this.container.offsetWidth*100+"%",this.container.querySelector("#east-space").style.width=(this.container.offsetWidth-this.data.positions.x2)/this.container.offsetWidth*100+"%",this.onUpdateCallbacks.forEach(function(e){e(a.getCoordinates())})}},{key:"position",value:function(e){if(this.container&&this.element){var t=this.getCoordinates(),n=parseInt(this.container.style.width),i=parseInt(this.container.style.height),a=parseInt(this.container.style.left),s=parseInt(this.container.style.top),o=Math.min(t.viewWidth,t.renderWidth)/t.pixelRatio,r=Math.min(t.viewHeight,t.renderHeight)/t.pixelRatio,c=Math.min(t.viewWidth,t.renderWidth)===t.viewWidth?0:(t.viewWidth-t.renderWidth)/2/t.pixelRatio,l=Math.min(t.viewHeight,t.renderHeight)===t.viewHeight?0:(t.viewHeight-t.renderHeight)/2/t.pixelRatio;i===r&&n===o&&a===c&&s===l||(this.container.style.width=o+"px",this.container.style.height=r+"px",this.container.style.left=c+"px",this.container.style.top=l+"px");var u=function(){e.position(e)};this.sizeWatcher=window.requestAnimationFrame(u)}}},{key:"getCoordinates",value:function(){var e={x:this.data.positions.x1,y:this.data.positions.y1,width:this.data.positions.x2-this.data.positions.x1,height:this.data.positions.y2-this.data.positions.y1};for(var t in e)e[t]&&(e[t]=e[t]*window.devicePixelRatio);return e.viewWidth=this._data.instance.stats.viewWidth,e.viewHeight=this._data.instance.stats.viewHeight,e.renderWidth=this._data.instance.stats.renderWidth,e.renderHeight=this._data.instance.stats.renderHeight,e.pan=this._data.instance.stats.x,e.tilt=this._data.instance.stats.y,e.zoom=this._data.instance.stats.z,e.pixelRatio=window.devicePixelRatio,e}},{key:"createHtml",value:function(){return n(61)}},{key:"screenshotCanvas",value:function(){var e=this;try{var t=e.getCoordinates(),n=window.document.createElement("canvas").getContext("2d"),i=600,a=t.height*(600/t.width);a<300&&(i*=300/a,a=300),n.canvas.width=i,n.canvas.height=a;var s=t.x,o=t.y,r=t.width,c=t.height,l=e._data.element.querySelector("#revealed-space"),u=e._data.element.querySelector("#west-handle"),d=e._data.element.querySelector("#north-handle");s=(u.getBoundingClientRect().left-e.canvas.getBoundingClientRect().left)/e.canvas.getBoundingClientRect().width*e.canvas.offsetWidth,o=(d.getBoundingClientRect().top-e.canvas.getBoundingClientRect().top)/e.canvas.getBoundingClientRect().height*e.canvas.offsetHeight,r=(2*u.getBoundingClientRect().width+l.getBoundingClientRect().width)/e.canvas.getBoundingClientRect().width*e.canvas.offsetWidth,c=(2*d.getBoundingClientRect().height+l.getBoundingClientRect().height)/e.canvas.getBoundingClientRect().height*e.canvas.offsetHeight;var h=e.canvas,p=function(e){for(var t=e.getContext("2d").getImageData(0,0,e.width,e.height).data,n=!1,i=0,a=t.length;i<a;i+=4)if(0!==t[i]||0!==t[i+1]||0!==t[i+2]){n=!0;break}return!!n},v=function(e,t,i,a,s,o,r){return n.drawImage(e,t,i,a,s,0,0,o,r),n.canvas}(h,s,o,r,c,i,a),f=p(v);return f?v:(v=function(e,t,i,a,s,o,r){var c={antialias:!0,preserveDrawingBuffer:!0},l=window.document.createElement("canvas").getContext("2d"),u=e.getContext("webgl",c)||e.getContext("experimental-webgl"),d=l.canvas.width=e.width,h=l.canvas.height=e.height,p=d*h*4,v=new Uint8Array(p),f=l.createImageData(d,h);u.readPixels(0,0,d,h,u.RGBA,u.UNSIGNED_BYTE,v);for(var g=0;g<p;g++)f.data[g]=v[g];l.putImageData(f,0,0),n.drawImage(l.canvas,t,i,a,s,0,0,o,r);var m=n.getImageData(0,0,n.canvas.width,n.canvas.height),w=window.document.createElement("canvas"),y=w.getContext("2d");return w.width=m.width,w.height=m.height,y.putImageData(m,0,0),y.scale(1,-1),y.translate(0,-m.height),y.drawImage(w,0,0),y.setTransform(1,0,0,1,0,0),y.globalCompositeOperation="source-over",w}(h,s,o,r,c,i,a),!!(f=p(v))&&v)}catch(e){return!1}}},{key:"takeScreenshot",value:function(){var e=this;return new Promise(function(t,n){var i=e.container.parentElement.parentElement.parentElement,a=e._data.instance.renderer;i.style.opacity="0",i.style.minWidth="1500px",i.style.maxWidth="1500px",i.style.height="auto",setTimeout(function(){a.resize(),setTimeout(function(){var s=e.screenshotCanvas();return s?s.toBlob(function(e){setTimeout(function(){return i.style.removeProperty("opacity"),i.style.removeProperty("min-width"),i.style.removeProperty("max-width"),i.style.removeProperty("height"),a.resize(),t(e)},10)},"image/jpeg",.92):n()},10)},10)})}},{key:"downloadScreenshot",value:function(){this.takeScreenshot().then(function(e){var t=window.document.createElement("a");t.download=!0,t.href=window.URL.createObjectURL(e),t.click()})}}]),e}();e.exports=t}()},function(e,t){e.exports='<table>\n    <tr>\n        <td></td>\n        <td style="width:10px;"></td>\n        <td id="north-space"></td>\n        <td style="width:10px"></td>\n        <td></td>\n    </tr>\n    <tr>\n        <td style="height:10px"></td>\n        <td id="north-west-handle" style="height:10px;cursor: nwse-resize;border-top: 1px dotted rgba(255, 255, 255, 0.25);background: transparent;border-left: 1px dotted rgba(255, 255, 255, 0.25);">\n            <div class="handle" style="left: -5px; top: -5px;"></div>\n        </td>\n        <td id="north-handle" style="height:10px; background: transparent; cursor: ns-resize; border-top: 1px dotted rgba(255, 255, 255, 0.25);">\n            <div class="handle" style="left: 50%; top: -5px; margin-left: -5px;"></div>\n        </td>\n        <td id="north-east-handle" style="height:10px;cursor: nesw-resize;border-top: 1px dotted rgba(255, 255, 255, 0.25);background: transparent;border-right: 1px dotted rgba(255, 255, 255, 0.25);">\n            <div class="handle" style="left: 5px; top: -5px;"></div>\n        </td>\n        <td style="height:10px"></td>\n    </tr>\n    <tr>\n        <td id="west-space"></td>\n        <td id="west-handle" style="cursor: ew-resize;border-left: 1px dotted rgba(255, 255, 255, 0.25);background: transparent;">\n            <div class="handle" style="left: -5px; top: 50%; margin-top: -5px;"></div>\n        </td>\n        <td id="revealed-space" style="background: transparent;"></td>\n        <td id="east-handle" style="cursor: ew-resize;border-right: 1px dotted rgba(255, 255, 255, 0.25);background: transparent;">\n            <div class="handle" style="right: -5px;top: 50%; margin-top: -5px;"></div>\n        </td>\n        <td id="east-space"></td>\n    </tr>\n    <tr>\n        <td style="height:10px"></td>\n        <td id="south-west-handle" style="height:10px;cursor: nesw-resize; background: transparent; border-bottom: 1px dotted rgba(255, 255, 255, 0.25); border-left: 1px dotted rgba(255, 255, 255, 0.25);">\n            <div class="handle" style="left: -5px; top: 5px;"></div>\n        </td>\n        <td id="south-handle" style="height:10px; cursor: ns-resize; border-bottom: 1px dotted rgba(255, 255, 255, 0.25);background: transparent;">\n            <div class="handle" style="left: 50%; top: 5px; margin-left: -5px;"></div>\n        </td>\n        <td id="south-east-handle" style="height:10px;cursor: nwse-resize;background: transparent; border-bottom: 1px dotted rgba(255, 255, 255, 0.25); border-right: 1px dotted rgba(255, 255, 255, 0.25);">\n            <div class="handle" style="left: 5px; top: 5px;"></div>\n        </td>\n        <td style="height:10px"></td>\n    </tr>\n    <tr>\n        <td></td>\n        <td></td>\n        <td id="south-space"></td>\n        <td></td>\n        <td></td>\n    </tr>\n</table>'},function(e,t){},function(e,t,n){n(64),n(66)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(){function e(t){i(this,e),this.el=t,this.update=this.update,this.el.innerHTML=n(65),this.update()}return s(e,[{key:"update",value:function(){var e=this.el.querySelector(".popup"),t=this.el.querySelector(".message-icon"),n=this.el.querySelector(".message-container"),i=this.el.querySelector(".popup-buttons"),a=window.E1.getModel(this.el,"icon"),s=window.E1.getModel(this.el,"type"),r=window.E1.getModel(this.el,"message"),c=window.E1.getModel(this.el,"active"),l=window.E1.getModel(this.el,"buttons");if(c&&"true"===c.toString()){e.classList.add("active"),n.innerHTML="",t.innerHTML="",i.innerHTML="",n.appendChild(o.default.cleanHtml("<div>".concat(r,"</div>"))),t.appendChild(o.default.cleanHtml("<div>".concat(a,"</div>"))),t.className="message-icon"+(s?" "+s:"");var u="";l&&l.length?l.forEach(function(e){u+='<button onclick="'+e.click+'">'+e.text+"</button>"}):u="<button onclick=\"window.E1.setModel(null, '"+this.el.getAttribute("active")+"', false)\">Ok</button>",i.appendChild(o.default.cleanHtml("<div>".concat(u,"</div>")))}else e.classList.remove("active")}}]),e}();o.default.registerComponent("e1-message",r)},function(e,t){e.exports='<div class="popup">\n    <div class="popup-component-wrapper">\n        <div class="popup-component">\n            <div class="popup-component-inner">\n                <div class="message-icon"></div>\n                <div class="message">\n                    <div class="message-container"></div>\n                    <div class="popup-buttons"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},function(e,t){},function(e,t,n){n(68),n(69)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){var n=this;i(this,e),this.el=t,this.update=this.update,this.el.innerHTML='\n        <div class="modal">\n            <div class="modal-wrapper">\n                <div class="modal-content"></div>\n                <div class="modal-close">\n                    <e1-icon type="close-thin"></e1-icon>\n                </div>\n            </div>\n        </div>',this.el.querySelector(".modal").querySelector(".modal-close").addEventListener("click",function(){o.setModel(n.el,"active",!1)},!1),this.update()}return s(e,[{key:"update",value:function(){var e=this.el.querySelector(".modal"),t=e.querySelector(".modal-content"),n=o.getModel(this.el,"active");n&&"true"===n.toString()?(t.innerHTML="",t.appendChild(o.cleanHtml("<div>"+o.getModel(this.el,"content")+"</div>")),setTimeout(function(){e.classList.add("active")},10)):(e.classList.remove("active"),setTimeout(function(){t.innerHTML=""},200))}}]),e}();o.registerComponent("e1-modal",r)},function(e,t){},function(e,t,n){"use strict";n(71),n(74)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r={circle:n(72),bar:n(73)},c=function(){function e(t){i(this,e),this.el=t,this.update=this.update,this.update()}return s(e,[{key:"update",value:function(){if(this.progress=o.getModel(this.el,"progress",0),this.type=o.getModel(this.el,"type","circle"),this.el.innerHTML="",this.el.appendChild(o.cleanHtml(r[this.type])),this.progress<0?this.progress=0:this.progress>100&&(this.progress=100),"circle"===this.type){var e=this.el.querySelector("text"),t=this.el.querySelector("ellipse"),n=1-parseFloat(this.progress)/100,i=parseFloat(t.getAttribute("stroke-dasharray"));t.setAttribute("stroke-dashoffset",n*i),e.textContent=this.progress+"%"}else if("bar"===this.type){var a=this.el.querySelector(".progress-text"),s=this.el.querySelector(".progress-bar");s.style.width=this.progress+"%",a.textContent=this.progress+"%"}}}]),e}();o.registerComponent("e1-progress",c)},function(e,t){e.exports='<div class="circle-container">\n    <div class="circle-inner">\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">\n            <ellipse cx="100" cy="100" rx="100" ry="100" stroke-dasharray="628" stroke-dashoffset="628"></ellipse>\n            <text x="100" y="100" text-anchor="middle" alignment-baseline="central" transform="rotate(90, 100, 100)" font-size="42px" fill="currentColor"></text>\n        </svg>\n    </div>\n</div>'},function(e,t){e.exports='<div class="progress-bar-container">\n    <div class="progress-text"></div>\n    <div class="progress-bar"></div>\n</div>'},function(e,t){},function(e,t,n){n(76),n(77)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){var n=this;i(this,e),this.el=t,this.update=this.update,this.data=o.getModel(t,"model"),this.value=o.getModel(t,"value"),this.results=o.getModel(t,"results"),this.placeholder=o.getModel(t,"placeholder"),this.paths=o.getModel(t,"paths"),this.el.getResults=this.getResults,this.el.results=this.results,"string"==typeof this.paths&&(this.paths=this.paths.split(",").map(function(e){return e.trim()})),this.el.innerHTML='<div class="search"><input type="text" placeholder="'.concat(this.placeholder,'" /><button class="search-button"><span style="color:transparent !important; pointer-events:none;">W</span><e1-icon type="search"></e1-icon></button><button e1-if="').concat(t.getAttribute("value"),'" class="cancel-search-button"><span style="color:transparent !important; pointer-events:none;">W</span><e1-icon type="close-thin"></e1-icon></button></div>'),this.el.querySelector(".search-button").addEventListener("click",function(){n.getResults()}),this.el.querySelector(".cancel-search-button").addEventListener("click",function(){n.el.querySelector("input").value="",n.value="",o.setModel(n.el,"value",""),n.getResults()}),this.el.querySelector("input").addEventListener("input",function(){var e=n.el.querySelector("input").value;n.value=e,o.setModel(n.el,"value",e)}),this.el.querySelector("input").addEventListener("keyup",function(e){"Enter"===e.key&&n.getResults()}),this.getResults()}return s(e,[{key:"getResults",value:function(){var e=this,t=this.value?this.value.toString().toLowerCase():this.value,n=function(){e.results||(e.results=[]),e.el.results=e.results,o.setModel(e.el,"results",e.results),e.el.onresults&&"function"==typeof e.el.onresults&&e.el.onresults(e.results)};return t&&this.data&&this.data.length?this.paths&&this.paths.length?(this.results=[],this.data.forEach(function(n){for(var i=0;i<e.paths.length;i++)if(o.getThis(n,e.paths[i]).toString().toLowerCase().indexOf(t)>-1){e.results.push(n);break}}),n()):(this.results=this.data[this.data.toString().toLowerCase().indexOf(t)],n()):(this.el.results=this.results=this.data,n())}},{key:"update",value:function(){var e=!1,t=o.getModel(this.el,"value"),n=o.getModel(this.el,"model"),i=o.getModel(this.el,"paths"),a=this.el.querySelector("input");"string"==typeof i&&(i=i.split(",").map(function(e){return e.trim()})),this.placeholder=o.getModel(this.el,"placeholder"),a.setAttribute("placeholder",this.placeholder),JSON.stringify(n)!==JSON.stringify(this.data)&&(this.data=n,e=!0),JSON.stringify(i)!==JSON.stringify(this.paths)&&(this.paths=i,e=!0),t!==a.value&&(this.value=a.value=t,e=!0),e&&this.getResults()}}]),e}();o.registerComponent("e1-search",r)},function(e,t){},function(e,t,n){n(79),n(80)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(){function e(t){i(this,e),this.el=t,this.update=this.update;var n='\n        <div class="select-container">\n\t\t\t<span class="select-menu-label" e1-if="'.concat(t.getAttribute("label"),'"></span>\n\t\t\t<input readonly tabindex="-1" type="text" class="select-menu-selected-text" e1-value="').concat(t.getAttribute("value")+".label",'">\n\t\t\t<span class="select-menu-options"></span>\n\t\t\t<button class="select-menu-arrow"><span style="color:transparent !important; pointer-events:none;">V</span></button>\n        </div>');this.el.innerHTML=n;var a=t.querySelector(".select-container"),s=!1;window.document.body.addEventListener("mousedown",function(e){clearTimeout(s),s=setTimeout(function(){var n=e.path?e.path[0]:e.originalTarget?e.originalTarget:e.target;try{n===t||t.contains(n)||a.classList.remove("mouseenter")}catch(e){}},10)});var o,r=function(e){clearTimeout(o),e.preventDefault(),a.classList.add("mouseenter")};/iPad|iPhone|iPod|Android/.test(window.navigator.userAgent)?t.addEventListener("touchstart",function(e){clearTimeout(o),e.preventDefault(),a.classList.toggle("mouseenter")},!1):(t.addEventListener("mouseenter",r,!1),t.addEventListener("mouseleave",function(){o=setTimeout(function(){a.classList.remove("mouseenter")},10)})),this.update()}return s(e,[{key:"handleSelect",value:function(e){e.preventDefault(),e.stopPropagation();for(var t=o.default.getModel(this.el,"options"),n=this.el.querySelector(".select-menu-option"),i=e.path?e.path[0]:e.originalTarget?e.originalTarget:e.target,a=i.getAttribute("option-key"),s=t[a],r=0;r<n.length;r++)r===parseInt(a)?n[r].setAttribute("selected",!0):n[r].setAttribute("selected",!1);o.default.setModel(this.el,"value",s);var c=o.default.getModel(this.el,"onselected");c&&"function"==typeof c&&c(s,this.el),this.el.onselected&&"function"==typeof this.el.onselected&&this.el.onselected(s,this.el)}},{key:"optionFromString",value:function(e){return{value:e.trim(),label:e.trim()}}},{key:"update",value:function(){var e=this;if(!this.el.getAttribute("value")){var t=o.default.getModel(this.el,"component-id");this.el.setAttribute("value","@bound.models."+t+".value"),o.default.setModel(this.el,"value")}var n=this.el.querySelector(".select-container"),i=o.default.getModel(this.el,"options"),a=o.default.getModel(this.el,"value");a&&"string"==typeof a&&(a=this.optionFromString(a),o.default.setModel(this.el,"value",a));var s=this.el.querySelector(".select-menu-label"),r=o.default.getModel(this.el,"label");s&&r&&(s.innerHTML="",s.appendChild(o.default.cleanHtml(r)));try{i=JSON.parse(i)}catch(e){}i&&"string"==typeof i&&(i=i.split(",").map(function(t){return e.optionFromString(t)}));var c=this.el.querySelector(".select-menu-options");c.innerHTML="",i&&Array.isArray(i)&&i.length&&i.forEach(function(t,i){"string"==typeof t&&(t=e.optionFromString(t));var s=window.document.createElement("span");s.className="select-menu-option",s.textContent=t.label,s.setAttribute("option-key",i),s.setAttribute("selected",!(!a||a!==t.value)),c.appendChild(s);var o=!1;/iPad|iPhone|iPod|Android/.test(window.navigator.userAgent)?s.addEventListener("touchstart",function(t){e.handleSelect(t),n.classList.remove("mouseenter")}):s.addEventListener("mousedown",function(t){clearTimeout(o),o=setTimeout(function(){n.classList.contains("mouseenter")&&window.requestAnimationFrame(function(){e.handleSelect(t),n.classList.remove("mouseenter")})},10)})}),this.el.ready=!0}}]),e}();o.default.registerComponent("e1-select",r)},function(e,t){},function(e,t,n){n(82)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){i(this,e),this.el=t,this.el["e1-short-number-onUpdate"]=this.update,this.update()}return s(e,[{key:"getString",value:function(e){if(isNaN(e)||0===e)return 0;var t=["","K","M","B","G"],n=parseInt(Math.floor(Math.log(e)/Math.log(1e3)));return e/Math.pow(1e3,n)+t[n]}},{key:"update",value:function(){var e=parseInt(o.getModel(this.el,"number"));this.el.textContent=this.getString(e)}}]),e}();o.registerAttribute("e1-short-number",r)},function(e,t,n){n(84),n(85)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(){function e(t){i(this,e),this.el=t,this.update=this.update,this.el.innerHTML='<div class="share"></div>',this.update()}return s(e,[{key:"open",value:function(){this.el.classList.toggle("tooltip-active")}},{key:"update",value:function(){var e=o.default.getModel(this.el,"components"),t=o.default.getModel(this.el,"url"),n=o.default.getModel(this.el,"text"),i=o.default.getModel(this.el,"hashtags");if(e){"string"==typeof e&&(e=e.split(",").map(function(e){return e.trim()}));var a='<div class="share">',s=function(e,t){a+='<div class="share-button '+e+'"><a class="icon-wrapper" onclick="'+t+'"><e1-icon type="'+e+'"></e1-icon></a></div>'};e.forEach(function(e){switch(e){case"facebook":s("facebook","window.open('https://www.facebook.com/sharer/sharer.php?u="+t+"&src=sdkpreparse', null, 'menubar=no,width=600,height=300')");break;case"twitter":var a=[];n&&(n="text="+n,a.push(n)),i&&(i="hashtags="+i,a.push(i)),a=a.length?a.join("&")+"&":"",s("twitter","window.open('https://twitter.com/share?"+a+"via=NVIDIAGeForce&url="+encodeURIComponent(t)+"', null, 'menubar=no,width=600,height=300')");break;case"weibo":s("weibo","window.open('http://service.weibo.com/share/share.php?url="+encodeURIComponent(t)+"&title="+window.document.title+"', null, 'menubar=no,width=600,height=300')")}}),a+="</div>",this.el.appendChild(o.default.cleanHtml(a))}}}]),e}();o.default.registerComponent("e1-social-buttons",r)},function(e,t){},function(e,t,n){n(87),n(88)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(t){i(this,e),this.el=t,this.el["e1-tooltip-onUpdate"]=this.update,this.update()}return s(e,[{key:"open",value:function(){this.el.classList.toggle("tooltip-active")}},{key:"update",value:function(){var e=this,t=o.getModel(this.el,"e1-tooltip",!1),n=function(){e.open()};this.el.parentNode&&(this.el.parentNode.style.cursor="pointer",this.el.parentNode.style.position="relative",this.el.parentNode.style.display=t||"inline-block",this.el.parentNode.removeEventListener("click",n),this.el.parentNode.addEventListener("click",n))}}]),e}();o.registerAttribute("e1-tooltip",r)},function(e,t){},function(e,t,n){"use strict";n(90)},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=n(0),r=function(){function e(){var t=this;i(this,e),this.strings={},this.locale="en",this.locales=["en"],this.serviceUrl=null;var n=null;if(o.subscribe("@TranslationService.locale",function(e){for(var n in t.strings)t.strings[n]&&(t.strings[n].default=t.strings[n][e]);o.setModel(null,"@TranslationService.strings",t.strings),window.localStorage.setItem("e1Locale",e)}),o.subscribe("@TranslationService.strings",function(){clearTimeout(n),n=setTimeout(function(){t.updateTranslations()},1e3)}),window.localStorage.getItem("e1Locale")&&(this.locale=window.localStorage.getItem("e1Locale")),window.localStorage.getItem("e1Translations")){var a=JSON.parse(window.localStorage.getItem("e1Translations"));(new Date).getTime()<a.expires&&(this.strings=a.strings)}}return s(e,[{key:"get",value:function(e){return o.getThis(o.services.TranslationService.strings,"".concat(e,".").concat(this.locale),e)}},{key:"getTranslation",value:function(e,t){var n=this;return new Promise(function(i,a){if("en"===t)return i(e);if(!n.serviceUrl)return i(e);var s="".concat(n.serviceUrl).concat(n.serviceUrl.indexOf("?")>-1?"&":"?","q=").concat(e,"&source=en&target=").concat(t),o=function(){try{var e=JSON.parse(r.responseText);i(e.translation)}catch(e){return a()}},r=new window.XMLHttpRequest;r.addEventListener("load",o),r.open("GET",s),r.send()})}},{key:"updateTranslations",value:function(){var e=this,t=function(){var t=!0;for(var n in e.strings)if(e.strings[n]&&e.strings[n].completed!==e.locales.length){t=!1;break}t&&(o.setModel(null,"@TranslationService.strings",e.strings),window.localStorage.setItem("e1Translations",JSON.stringify({expires:(new Date).getTime()+36e5,strings:e.strings})))};for(var n in this.strings)this.strings[n]&&(this.strings[n].completed||(this.strings[n].completed=0),function(n){e.locales.forEach(function(i){e.strings[n][i]?(e.strings[n].completed++,t()):e.getTranslation(e.strings[n].en,i).then(function(a){e.strings[n][i]=a,e.strings[n].completed++,t()},function(){e.strings[n][i]=e.strings[n].default,e.strings[n].completed++,t()})})}(n))}},{key:"setLocales",value:function(e){o.setModel(null,"@TranslationService.locales",e),this.updateTranslations()}}]),e}();o.registerService("TranslationService",new r);var c=function(){function e(t){if(i(this,e),this.el=t,this.el["e1-translate"]=this.update,this.el.translationKey=this.el.textContent.split(".").join("&period;"),this.el.getAttribute("e1-translate"))this.update();else{this.el.setAttribute("e1-translate","@TranslationService.strings.".concat(this.el.translationKey,".default")),o.setModel(null,"@TranslationService.strings.".concat(this.el.translationKey,".en"),this.el.textContent),o.setModel(null,"@TranslationService.strings.".concat(this.el.translationKey,".default"),this.el.textContent);var n=this.el.cloneNode(!0);this.el.parentNode.insertBefore(n,this.el),this.el.parentNode.removeChild(this.el)}}return s(e,[{key:"update",value:function(){this.el.innerHTML="",this.el.appendChild(o.cleanHtml("<span>".concat(o.services.TranslationService.get(this.el.translationKey),"</span>")))}}]),e}();o.registerAttribute("e1-translate",c)},function(e,t,n){"use strict";n(92),n(93)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(){function e(t){function n(e){e.preventDefault(),e.stopPropagation()}function a(e){e.preventDefault(),e.stopPropagation(),t.classList.add("dragging")}function s(e){e.preventDefault(),e.stopPropagation(),t.classList.remove("dragging")}function r(e){e.preventDefault(),e.stopPropagation(),t.classList.remove("dragging"),l((e.dataTransfer.files||e.originalEvent.dataTransfer.files)[0])}function c(e){l(e.target.files[0])}function l(e){if(e){o.default.setModel(t,"file",e);var n=o.default.getModel(t,"validator");n&&"function"==typeof n&&n(e,t)}}i(this,e),this.el=t,this.update=this.update,this.el.appendChild(o.default.cleanHtml(['<div class="upload-wrapper">','<div class="upload-wrapper-inner">',o.default.getModel(this.el,"content",""),"</div>",'<input class="file-input" type="file">',"</div>"].join(""))),t.addEventListener("drag",n,!1),t.addEventListener("dragstart",n,!1),t.addEventListener("dragover",a,!1),t.addEventListener("dragenter",a,!1),t.addEventListener("dragleave",s,!1),t.addEventListener("dragend",s,!1),t.addEventListener("drop",r,!1),t.querySelector("input.file-input").addEventListener("change",c,!1),t.clear=function(){o.default.setModel(t,t.getAttribute("file"),""),t.querySelector("input.file-input").value=null}}return s(e,[{key:"update",value:function(){var e=o.default.getModel(this.el,"content",""),t=this.el.querySelector(".upload-wrapper-inner");t&&(t.innerHTML="",t.appendChild(o.default.cleanHtml("<div>".concat(e,"</div>"))))}}]),e}();o.default.registerComponent("e1-upload-zone",r)},function(e,t){}]).umd;